/*
	é’ˆå¯¹é«˜é¢‘è§¦å‘çš„äº‹ä»¶å¯ä»¥ä½¿ç”¨ã€èŠ‚æµã€‘æˆ–ã€é˜²æŠ–ã€‘å‡½æ•°,é™ä½Žä»£ç çš„æ‰§è¡Œé¢‘çŽ‡, èŠ‚çœæ€§èƒ½

		ä¾‹å¦‚:
			resizeã€mousemove input è¾“å…¥äº‹ä»¶ä¼šå¾ˆé«˜é¢‘è§¦å‘, å¯¹ã€æµè§ˆå™¨å†…å­˜ã€‘è·Ÿã€æœåŠ¡å™¨è¯·æ±‚çš„åŽ‹åŠ›ã€‘éƒ½ä¼šå¾ˆå¤§


		ðŸŒŸ é˜²æŠ–
			//è¿‡æ»¤æŽ‰å‰é¢çš„æ‰€æœ‰äº‹ä»¶è§¦å‘ï¼Œç›´åˆ°æœ€åŽä¸€æ¬¡è§¦å‘æ‰çœŸæ­£æ‰§è¡Œ

		ðŸŒŸ èŠ‚èƒ½
			//
*/


//ðŸŒŸðŸŒŸðŸŒŸ é˜²æŠ–ï¼ˆæ‹‰é•¿äº†æ‰§è¡Œçš„æ—¶é—´, æ²¡è¾¾åˆ°æ¯éš” X ç§’å°±ä¸ä¼šæ‰§è¡Œï¼‰ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

	//âš¡ï¸é˜²æŠ–å‡½æ•°åŸºç¡€å†™æ³•
		let timer
		//æ¯”å¦‚å¸Œæœ›åœæ­¢åŽçš„ 300ms åŽå†æ‰§è¡Œä¸€æ¬¡
		document.addEventListener('mousemove', function(event) {
			clearTimeout(timer) //æ¯æ¬¡éƒ½ä¼šæƒ…å†µä¸Šä¸€æ¬¡çš„è®¡æ—¶å™¨, ç„¶åŽå†æ‰§è¡Œæ–°çš„å®šæ—¶å™¨ï¼Œå¦‚æžœè¿™æ—¶å€™åˆæ‰§è¡Œäº† mousemove å°±åˆä¼šæ¸…ç©ºä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨ï¼Œé™¤éžåœä¸‹æ¥è¶…è¿‡ 300ms æ‰ä¼šæ‰§è¡Œ
			timer = setTimeout(function(){
				// console.log(event.clientX, event.clientY);	 
			},2000) 
		})




	//âš¡ï¸âš¡ï¸é˜²æŠ–å‡½æ•°é«˜çº§å†™æ³•(å†™æˆä¸€ä¸ªæ¨¡æ¿),ä½†æ˜¯ timer02 è¿™ä¸ªå˜é‡å®¹æ˜“æ±¡æŸ“å…¨å±€çŽ¯å¢ƒ
		let timer02
		//é˜²æŠ–å‡½æ•°æ¨¡æ¿
		function debounce(func, delay) {
			clearTimeout(timer02) //æ¯æ¬¡éƒ½ä¼šæƒ…å†µä¸Šä¸€æ¬¡çš„è®¡æ—¶å™¨, ç„¶åŽå†æ‰§è¡Œæ–°çš„å®šæ—¶å™¨ï¼Œå¦‚æžœè¿™æ—¶å€™åˆæ‰§è¡Œäº† mousemove å°±åˆä¼šæ¸…ç©ºä¸Šä¸€æ¬¡çš„å®šæ—¶å™¨ï¼Œé™¤éžåœä¸‹æ¥è¶…è¿‡ 300ms æ‰ä¼šæ‰§è¡Œ
			timer = setTimeout(function(){
				func()
			},delay) 
		}

		//å…·ä½“è¦æ‰§è¡Œçš„å‡½æ•°
		function doSomething() {
			// console.log('æ‰§è¡Œäº†');
		}

		//æ·»åŠ äº‹ä»¶
		document.addEventListener('mousemove', ()=> {
			debounce(doSomething,300) //ä¼ å…¥è¦æ‰§è¡Œçš„ã€å‡½æ•°ã€‘è·Ÿé˜²æŠ–çš„ã€ç§’æ•°ã€‘
		})




	//âš¡ï¸âš¡ï¸âš¡ï¸é˜²æŠ–å‡½æ•°æ›´é«˜çº§çš„å†™æ³•, ç”¨é—­åŒ…çš„æ–¹å¼å®žçŽ°
	function createDeBounceFunc(fn,delay){
		let timer;

		return function(){ //ðŸŒŸè¿™ä¸ªåŒ¿åå‡½æ•°çš„æ´»åŠ¨å¯¹è±¡å†…å¼•ç”¨äº† timer è·Ÿ fnã€delay, äº§ç”Ÿä¸€ä¸ªé—­åŒ…çŽ¯å¢ƒ, é—­åŒ…çŽ¯å¢ƒå†…å¯ä»¥èŽ·å–åˆ° timer, ç„¶åŽä¸‹é¢åˆç”¨ testDeBounce è¿™ä¸ªå˜é‡æ¥èŽ·å–åˆ°äº†
			const _this = this //èŽ·å– this æŒ‡å‘,è®© this æŒ‡å‘å›ž windows
			const _args02 = arguments
			clearTimeout(timer)

			timer = setTimeout(()=>{
				/*
				 	è®©è¿™ä¸ª _this æŒ‡å‘ window,
					è®© _args02 æ¥èŽ·å– return function() è¿™ä¸ªåŒ¿åå‡½æ•°çš„æ‰€æœ‰ arguments
					arguments åŒ…å«äº†å‡½æ•°ä¼ å…¥çš„æ‰€æœ‰æ•°æ®
					æ³¨æ„ï¼Œå¦‚æžœæ˜¯ä¸æ˜¯ç®­å¤´å‡½æ•°è€Œæ˜¯æ™®é€šå‡½æ•°çš„è¯ï¼Œä¼šæœ‰ argument å†²çªï¼Œå› ä¸ºæ™®é€šå‡½æ•°è‡ªå·±ä¹Ÿæœ‰ä¸ª arguments
				 */
				fn.apply(_this,_args02) //apply()æ–¹æ³•èƒ½åŠ«æŒå¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼Œç»§æ‰¿å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„å±žæ€§
			},delay)
		}
	}

	//çœŸæ­£æ‰§è¡Œçš„å‡½æ•°
	function test009(abc){
		console.log(abc);
	}


	// testDeBounce è¿™ä¸ªå˜é‡èƒ½å¤Ÿã€èŽ·å–ã€‘é—­åŒ…å†…çš„å˜é‡, ç›¸å½“äºŽåœ¨æ‰§è¡Œã€åŒ¿åå‡½æ•°ã€‘
	//ðŸŒŸðŸŒŸ ç›¸å½“äºŽæŠŠ test009 è¿™ä¸ªå‡½æ•°è·Ÿ 300 è¿™ä¸ªå‚æ•°ä¼ å…¥é—­åŒ…å†…åŽ»æ‰§è¡Œäº†
	const testDeBounce = createDeBounceFunc(test009,300)


	document.addEventListener('mousemove', ()=> {
		testDeBounce('123') //ä¼ å…¥è¦æ‰§è¡Œçš„ã€å‡½æ•°çš„å‚æ•° abc ã€‘è·Ÿé˜²æŠ–çš„ã€ç§’æ•°ã€‘
	})





//ðŸŒŸðŸŒŸðŸŒŸ èŠ‚æµ(åªæ˜¯é™ä½Žäº†é¢‘çŽ‡, å¯ä»¥è®¾å®šæ¯éš” X ç§’æ‰æ‰§è¡Œ) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

	//é—­åŒ…çš„èŠ‚æµæ–¹å¼
	function createThrottleFunc(fn,limit){

		let flag = true

		return function(){
			const _this = this
			const args = arguments

			if(flag){ //ä¸€å¼€å§‹æ˜¯ trueï¼Œæ‰€ä»¥èƒ½æ‰§è¡Œä¸‹é¢çš„ä»£ç , é—­åŒ…çŽ¯å¢ƒå†…å¯ä»¥èŽ·å–åˆ° flag
				flag = false //æ‰§è¡ŒåŽå˜ä¸º false
				fn.apply(_this,args)
				setTimeout(()=>{
					flag = true
				},limit) //è®¾ç½®é™å®šæ—¶é—´, è¿‡ X ç§’åŽæ‰ä¼šå˜ä¸º true, æ‰èƒ½å†æ¬¡æ‰§è¡Œè¿™ä¸ªå‡½æ•°
			}
		}
	}

	function test008(x){
		console.log(x);
	}

	const TEST_THROTTLE = createThrottleFunc(test008,2000)

	document.addEventListener('mousemove',()=>{
		TEST_THROTTLE('123')
	})

