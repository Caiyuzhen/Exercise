<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ¤æ–­&è®¡ç®—æ•°ç»„çš„æ–¹æ³•</title>
    <H1>åˆ¤æ–­&è®¡ç®—æ•°ç»„çš„æ–¹æ³•</H1>
</head>
<body>
    <!-- 
        ç‰¹å¾æ€»ç»“
            ä¼ å‚éƒ½æ˜¯å‡½æ•°
            éƒ½ä¸æ”¹å˜åŸæ•°ç»„, éƒ½æ˜¯æ£€æŸ¥æ•°ç»„

        å…³æ³¨ç‚¹
            1.ä½œç”¨
            2.å¦‚ä½•ç”¨
            3.æ˜¯å¦ä¿®æ”¹åŸæ•°ç»„
            4.console è¿”å›ä»€ä¹ˆ 
        
        Reduce
            1.åŠ æ€»,æ±‚æ€»å’Œçš„ä½œç”¨
            2.  const arr01 = (x,y) => x + y
                let result02 = arr.reduce( function(x,y,z,a) { return x+y } )

                x ä¸ºç´¯åŠ çš„æ€»å€¼
                y ä¸ºå½“å‰è¿è¡Œåˆ°çš„å€¼ (ç¬¬ä¸€æ¬¡å¾ªç¯çš„è¯ y ä¸ºç¬¬äºŒä½, x ä¸ºç¬¬ä¸€ä½),å¦‚æœä¼ å‚(a)äº†è¯,ç¬¬ä¸€æ¬¡å¾ªç¯çš„ z å°±ä¸º a ,æ€»å€¼ä¼šæŠŠå®ƒåŠ ä¸Š
                z ä¸ºç´¢å¼•ä½
                a  ä¸ºå“ªä¸ªæ•°ç»„
            3.ä¸ä¿®æ”¹
            4.

            
     -->
<script type="text/javascript">


console.log("======================æˆ‘æ˜¯ reduce åˆ†å‰²çº¿==========================")

const arr = [1,2,3,4,5,6]

//æ±‚æ€»å’Œ,å†™æ³•ä¸€, æ‰§è¡Œå‡½æ•°çš„æ—¶å€™å†ç”¨ reduce æ–¹æ³•ğŸŒŸ
const result = (x,y) => x + y //æ²¡ä¼ å‚çš„è¯ , x ä¸ºæ€»å’Œ, y å½“å‰å€¼,ç„¶åè¿™æ ·åŠ (ç¬¬ä¸€æ¬¡1+2=3,ç„¶åç¬¬äºŒæ¬¡3+3=6,ç¬¬ä¸‰æ¬¡6+4=10,ç¬¬å››æ¬¡10+5=15,ç¬¬äº”æ¬¡15+6=21)

console.log(arr.reduce(result))  //21


//æ±‚æ€»å’Œ,å†™æ³•äºŒ,åœ¨å‡½æ•°å†…å°è£… reduce æ–¹æ³•ğŸŒŸ
let result02 = arr.reduce( 
    function(x,y) { return x+y } //æ²¡ä¼ å‚çš„è¯ , x ä¸ºæ€»å’Œ, y å½“å‰å€¼, ç„¶åè¿™æ ·åŠ (ç¬¬ä¸€æ¬¡1+2=3,ç„¶åç¬¬äºŒæ¬¡3+3=6,ç¬¬ä¸‰æ¬¡6+4=10,ç¬¬å››æ¬¡10+5=15,ç¬¬äº”æ¬¡15+6=21)
)

console.log(result02) //21


console.log(arr.reduce((x,y,current12221, array1221) => { return x+y },21))//1 ä¸ºåˆå§‹å€¼,æ‰€ä»¥ return å›æ¥åä¼šå†åŠ ä¸Š 21, =42





//è®¡ç®—å…ƒç´ å‡ºç°çš„æ¬¡æ•° ğŸŒŸ

let personalName = ['Alice', 'Bob', 'Tiff','Bruce','Alice', 'Bob', 'Tiff','Jimmy','Alice', 'Bob', 'Tiff']


let countedName = personalName.reduce(function(y,name){ ///y ä¸ºç´¯è®¡æ€»å€¼ï¼Œname ä¸º å½“å‰æ˜¯ä»€ä¹ˆå€¼ï¼Œç³»ç»Ÿå®šå¥½äº†çš„
    if (name in y){
        y[name] ++; //å¦‚æœæå‡ºæ¥çš„ name åŒ…å«åœ¨ y å†…ï¼Œåˆ™åŠ  1
    }else{
        y[name] = 1;
    }
    return y;
},{})

console.log(countedName) 


//æŠŠå…ƒç´ åšä¸€ä¸ªåˆ†ç±» ğŸŒŸ

let people = [
    {name:'Alice', age:42},
    {name:'Max', age:32},
    {name:'Jimmy', age:32},
    {name:'Tim', age:26},
    {name:'Jane', age:26},
    {name:'Zen', age:26}
]


//æ²¡å¾ˆæ‡‚
function groupBy(whitchArray,y){ //whitchArray ä¸ºå¯¹åº”çš„æ•°ç»„ï¼Œ y ä¸ºåˆ¤æ–­è¦ç”¨å“ªä¸ªå±æ€§æ¥åˆ†ç±»
    return whitchArray.reduce(function(aa,obj){
        const key = obj[y] // key ç­‰äº ï¼ˆä»å½“å‰å€¼å†…æå–å‡ºæ¥çš„å±æ€§ï¼‰,key = age
        if (!aa[key]){ //å¦‚æœ age åœ¨æå–å‡ºæ¥çš„æ€»å€¼å†…ï¼Œåˆ™ç»™åˆ°ç©ºæ•°ç»„
            aa[key] = []; 
        };
        aa[key].push(obj); //æŠŠ age æ¨åˆ° å½“å‰å€¼å†…ï¼Ÿ
        return aa //è¿”å›æ€»å€¼
    },{});
}

let groupPeople = groupBy(people,'age')
console.log(groupPeople)



console.log("======================æˆ‘æ˜¯åˆ†å‰²çº¿==========================")
//======================æˆ‘æ˜¯åˆ†å‰²çº¿==========================

//ç®—å¯¹è±¡å†…çš„æ€»å’Œ ğŸŒŸğŸŒŸ
const array009 = [
    {score:60},
    {score:80},
    {score:100}
]


//æ–¹æ³•ä¸€
const total007 = (x,y) => {
    return {        //è¿™æ ·æ¯æ¬¡è¿”å›çš„éƒ½æ˜¯ç—›ä¸€ä¸ªå¯¹è±¡ç»“æ„
        score:x.score + y.score //sorce:60ã€80ã€90
    }
}

console.log(array009.reduce(total007).score) //å…ˆè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå†ä»å¯¹è±¡ä¸­æå–å‡º score


//æ–¹æ³•äºŒ
const total008 = (x,y) => 
    x + y.score

console.log(array009.reduce(total008,0))




console.log("======================ç»ƒä¹ ==========================")
//======================ç»ƒä¹ ==========================

//è®¡ç®—å¹´é¾„æ€»å’Œ
const family = [
    {mon:{age:45}},
    {daddy:{age:46}},
    {son:{age:18}},
    {dauther:{age:20}}
    ]


    const totalAge = family.reduce((x,y) =>{
        let z;
            for (key in y){  //éœ€è¦å…ˆæŠŠå¯¹è±¡çš„[å±æ€§å]å–å‡ºæ¥ ğŸŒŸ, y ç›¸å½“äºæ¯æ¬¡å¾ªç¯å‡ºæ¥çš„å¯¹è±¡
                z = key //å–å‡ºæ¥çš„å¯¹è±¡åèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡(åˆ†åˆ«ä¸º momã€daddy ç­‰,ç»Ÿä¸€å˜ä¸º z)
            }
            return x + y[z].age
        }
        ,0)
        console.log(totalAge)


//è®¡ç®—æ€»å’Œ
const arrayMany = [[1,2],[5,11],[8,9],[3,8]]

const totalNumber = arrayMany.reduceRight((x,y) =>{
    let temp = 0 //å…ˆæŠŠç¬¬ä¸€ä¸ªæ•°æ®å­˜èµ·.
    temp = y.reduceRight((a,b)=>a+b,0) //è¿”å›çš„ç¬¬ä¸€ä¸ªæ•°æ®çš„å’Œï¼Œå³ä¸º[3+8]ã€[9+9]...
    return x + temp //åŠ æ€»å€¼ä¸Šä¸Šä¸€æ¬¡å›å‡½æ•°çš„æ•°æ®, 11 + 18+...
},0)


const array03 = array.map( function(x) { return x*3 })


console.log(totalNumber)




</script>
</body>
</html>
