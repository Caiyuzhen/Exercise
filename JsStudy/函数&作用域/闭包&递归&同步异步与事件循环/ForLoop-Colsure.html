<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For 循环的闭包问题</title>
    <H1>For 循环的闭包问题</H1>
    

</head>
<body>
    <script type="text/javascript">

//原始 for 循环
        for(var i=1; i<=5; i++){
            setTimeout(function(){ //会等 for 循环执行完才执行这个异步函数！但是在【🌟定义的时候🌟】就定义出了 5 个 Time()函数，这个 function 是全局函数
                console.log(i); // 6，6，6，6，6，6，
            },i*1000)//i=1
        }

//🌟🌟利用立即执行函数的闭包方式输出 1,2,3,4,5
//🌟🌟自定义函数中再定义的函数，会把上一个函数用到的数据靠到下一个函数内！
//复习一下立即执行函数
// 不一定要作为参数传入函数中使用,可以在某个作用域中作为立即执行函数使用
//   例如
//      (function(){
//             console.log("立即执行的匿名函数")
//      })()  //加圆括号来调用，也可以传参

        for(var i=1; i<=5; i++){
            (function(x){ //🌟🌟 立即执行函数！
                setTimeout(function(){
                    console.log(x)
                },x*1000)
            })(i)
        }


//更简单的方法，用 let 声明,因为 let 每次循环都会重新声明🌟🌟🌟
//for()里边用 let 声明的话就是块级作用域!!
        for(let i=1; i <= 5; i++){
                setTimeout(function(){
                    console.log(i)
                },i*1000)
            }







    </script>

</body>
</html>
