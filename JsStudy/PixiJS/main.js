// console.log(PIXI)
/*
	æ ¸å¿ƒæ˜¯ 2D å›¾å½¢åº“
		ğŸ’  æ ¸å¿ƒç±»å‹
			Application
				Sprite(å›¾ç‰‡, æœ‰å¼‚æ­¥çš„é—®é¢˜)  |  Text  |  Graphics
					Texture(å¯ä»¥åªè¯»å–å±€éƒ¨å›¾ç‰‡, æœ‰å¼‚æ­¥çš„é—®é¢˜)  |  BaseTexture  |  Assets(æ²¡æœ‰å¼‚æ­¥çš„é—®é¢˜)
		ğŸ¯ æ­¥éª¤
			1. åˆ›å»ºèˆå°  â€”â€”  åˆå§‹åŒ– Canvas
			2. æ¼”å‘˜åœ¨åå°å‡†å¤‡  â€”â€”  åå°åŠ è½½/èµ„æºå¤‡ç”¨
			3. æ¼”å‘˜ä¸Šåœº  â€”â€”  å…ƒç´ åœ¨ Canvas ä¸Šè¿›è¡Œç»˜åˆ¶
			4. æ¼”å‘˜è¿›è¡Œè¡¨æ¼”  â€”â€”  å…ƒç´ åœ¨ Canvas ä¸Šè¿›è¡Œå˜åŒ–
			5. ...
*/



const { Application, Container, Sprite, Texture, Assets, Text, Graphics } = PIXI //å–å‡ºå±æ€§
// console.log(Application)




async function main() {

	// âš¡ï¸1. åˆ›å»ºä¸€ä¸ª Canvas å…ƒç´ , ç„¶åæ·»åŠ åˆ° DOM ä¸Š â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
	const app = new Application({ //app åˆ™æ˜¯ç®¡ç†æ•´ä¸ªèˆå°çš„å®ä¾‹
		//height: 1200 //å›ºå®šå€¼
		// width: 800 //å›ºå®šå€¼
		resizeTo : window, // å¯ä»¥è®¾ç½®ä¸ºè·Ÿ æµè§ˆå™¨ä¸€æ ·å¤§
		resolution: window.devicePixelRatio || 1, // åƒç´ æ¯”ï¼ˆåˆ†è¾¨ç‡ï¼‰, é»˜è®¤ä¸º 1 
		autoDensity: true, //ğŸ‘†ä¸Šé¢çš„å±æ€§è®¾ç½®å, å°±ä¸€å®šè¦è®¾ç½®è¿™ä¸ªå±æ€§, ä¸ç„¶é«˜å€å±ä¸‹å…ƒç´ ä¼šè¢«æ”¾å¤§
		backgroundColor: '#ece7ff',
	})

	document.body.appendChild(app.view) // æŠŠ Canvas æ·»åŠ åˆ° DOM ä¸Š, viw å°±æ˜¯ä¸€ä¸ª Canvas å…ƒç´ 







	// âš¡ï¸2. æ¼”å‘˜åœ¨åå°å‡†å¤‡ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
	// ğŸŒğŸŒ æ·»åŠ å›¾å½¢å…ƒç´  - æ–¹æ³•ä¸€(æœ‰å¼‚æ­¥çš„é—®é¢˜):
	const sprite = Sprite.from('./src/img/character.png')//æœ¬è´¨ä¸Šä¹Ÿæ˜¯ç”Ÿæˆä¸€ä¸ª Texture ç±»å‹çš„æ•°æ®åœ¨å†…å­˜å‘¢å½“ä¸­


	// ğŸŒğŸŒ æ·»åŠ å›¾å½¢å…ƒç´  - æ–¹æ³•äºŒ(æœ‰å¼‚æ­¥çš„é—®é¢˜):
	const texture = Texture.from('./src/img/character2.png')
	const sprite2 = new Sprite(texture)


	// ğŸŒğŸŒ æ·»åŠ å›¾å½¢å…ƒç´  - æ–¹æ³•ä¸‰(æ²¡æœ‰å¼‚æ­¥çš„é—®é¢˜):
	Assets.add('abcMan', './src/img/character3.png') //ç›¸å½“äºå…ˆåœ¨å†…å­˜åœ°å€ä¸Šã€æ ‡è®°ã€‘ä¸€ä»½æ•°æ®
	const texture3 = await Assets.load('abcMan') //è¯»å–ã€æ ‡è®°ã€‘åœ¨ Assets çš„æ•°æ®
	const sprite3 = new Sprite(texture3)


	// ğŸŒğŸŒ å†…åµŒå­—ä½“çš„æ–¹å¼
	await Assets.load('./src/font/FuturaNowHeadlineBlack.ttf')


	// ğŸŒğŸŒ æ·»åŠ æ–‡å­—å…ƒç´ 
	const smartText = new Text('Zeno\nDesign', {
		fontFamily: 'FuturaNowHeadlineBlack',
		fontSize: 64,
		lineHeight: 32,
		fill: '#191970',
		align: 'center',
		wordWrap: true,//å…è®¸æ–‡æœ¬æ¢è¡Œ
		wordWrapWidth: 2 //æ¢è¡Œçš„å®½åº¦
	})


	// ğŸŒğŸŒ æ·»åŠ å›¾å½¢ï¼ˆçŸ©å½¢ï¼‰å…ƒç´   â€”â€”  ç›¸å½“äºç”»äº†ä¸€ä¸ªå›¾å½¢å¹¶è´´åœ¨ä¸€ä¸ªå¹³é¢ä¸Š, å¯ä»¥ç‹¬ç«‹æ§åˆ¶, æ¯”å¦‚ clear
	const rect = new Graphics()
	rect.beginFill('#70195f')
	.drawRect(0, 0, 90, 90) //åæ ‡ + å°ºå¯¸
	.endFill() //å¯ä»¥é“¾å¼çš„è°ƒç”¨, å› ä¸ºéƒ½ä¼šè¿”å› rect æœ¬èº«ï¼


	// ğŸŒğŸŒ æ·»åŠ å›¾å½¢ï¼ˆåœ†è§’çŸ©å½¢ï¼‰å…ƒç´   â€”â€”  ç›¸å½“äºç”»äº†ä¸€ä¸ªå›¾å½¢å¹¶è´´åœ¨ä¸€ä¸ªå¹³é¢ä¸Š, å¯ä»¥ç‹¬ç«‹æ§åˆ¶, æ¯”å¦‚ clear
	const roundRect = new Graphics()
	rect.beginFill('#b7663d')
	.drawRoundedRect(400, 20, 80, 80, 20) //åæ ‡ + å°ºå¯¸
	.endFill() 
	//å¯ä»¥é“¾å¼çš„è°ƒç”¨, å› ä¸ºéƒ½ä¼šè¿”å› rect æœ¬èº«ï¼å¯ä»¥ç»§ç»­ç”»ç¬¬äºŒä¸ªå›¾å½¢
	.beginFill('#0b8d7e')
	.drawRoundedRect(800, 20, 100, 100, 12) 


	// ğŸŒğŸŒ æ·»åŠ å›¾å½¢ï¼ˆçº¿æ®µï¼‰å…ƒç´   â€”â€”  ç›¸å½“äºç”»äº†ä¸€ä¸ªå›¾å½¢å¹¶è´´åœ¨ä¸€ä¸ªå¹³é¢ä¸Š, å¯ä»¥ç‹¬ç«‹æ§åˆ¶, æ¯”å¦‚ clear
	const line = new Graphics()
	line.lineStyle(10, '#25c399', 1)
	.moveTo(600, 40)
	.lineTo(100, 300)






	// âš¡ï¸3. æ¼”å‘˜ä¸Šåœº â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
	app.stage.addChild(sprite, sprite2, sprite3) //åæ·»åŠ ä¼šç›–ä½å…ˆæ·»åŠ çš„
	app.stage.addChild(smartText)
	app.stage.addChild(rect, roundRect, line)

	// ä¹Ÿå¯ä»¥ç”¨æ‰“ç»„çš„æ–¹å¼è¿›è¡Œæ·»åŠ 
	// const container = new Container()
	// container.addChild(sprite, sprite2, sprite3)
	// app.stage.addChild(container)

	setTimeout(()=>{
		console.log(sprite.width) //ğŸ‘€å¼‚æ­¥è¾“å‡ºçš„æ•°æ®æ‰æ˜¯æ­£ç¡®çš„!
		console.log(sprite2.width) //ğŸ‘€å¼‚æ­¥è¾“å‡ºçš„æ•°æ®æ‰æ˜¯æ­£ç¡®çš„!
	},200)

	console.log(sprite3.width) //ğŸ‘€æ²¡æœ‰å¼‚æ­¥çš„é—®é¢˜




	// âš¡ï¸4. æ¼”å‘˜è¿›è¡Œè¡¨æ¼” â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

	// ã€åæ ‡ & ä½ç½®å±æ€§ã€‘
	smartText.position.x = 320 //å› ä¸ºæ·»åŠ åˆ° stage ä¸Šï¼Œæ‰€ä»¥é»˜è®¤åæ ‡ä¸º 0,0 


	//ã€åæ ‡ä¸­å¿ƒã€‘
	// x , y , anchor(å‚è€ƒç‚¹\æ—‹è½¬ä¸­å¿ƒ\ç›¸å¯¹äºä¸Šä¸€å±‚çˆ¶å…ƒç´ ï¼Œå¦‚æœä¸Šä¸€å±‚ä¸º container, é‚£ä¹ˆå°±æ˜¯ç›¸å¯¹äºä¸Šä¸€å±‚çš„åæ ‡ç‚¹)
	// æœ¬åœ°åæ ‡è·Ÿä¸–ç•Œåæ ‡å¯ä»¥ç›¸äº’è½¬åŒ– toLocal <=> toGlobal
	smartText.anchor.set(0.5, 0.5) //ä¸­å¿ƒ 50%

	// anchor =>  0~1 ç›¸å¯¹äºçˆ¶çº§
	// pivot =>  è‡ªå®šä¹‰å…·ä½“åæ ‡å€¼ (æ›´ç²¾ç¡®)
	

	// ã€ç”»å¸ƒåŠæ¸²æŸ“å™¨å±æ€§ã€‘
	// canvas å¤§å°(æ¸²æŸ“å™¨æ¸²æŸ“æ•ˆæœå¤§å°)  =>  app.screen //âš¡ï¸å»ºè®®ç”¨è¿™ä¸ª
	// ç”»å¸ƒçš„å¤§å°  =>  app.view
	console.log("æ¸²æŸ“æ•ˆæœå¤§å°:" + app.screen.width, "ç”»å¸ƒå¤§å°:" + app.view.width)

	//æ¯”å¦‚è®©å…ƒç´ è·‘åˆ°ä¸­å¤®
	sprite.x = app.screen.width / 2 - sprite.width / 2 // (ğŸš€ğŸš€å‡å»å…ƒç´ è‡ªèº«å®½åº¦çš„ä¸€åŠ, æ³¨æ„éœ€è¦ anchor ä¸º 0,0, å¦‚æœä¸º 0.5, 0.5 åˆ™ä¸éœ€è¦å‡å»è‡ªèº«çš„ä¸€åŠäº†ï¼)
	sprite.y = app.screen.height / 2 - sprite.height / 2 // (ğŸš€ğŸš€å‡å»å…ƒç´ è‡ªèº«é«˜åº¦çš„ä¸€åŠ, æ³¨æ„éœ€è¦ anchor ä¸º 0,0, å¦‚æœä¸º 0.5, 0.5 åˆ™ä¸éœ€è¦å‡å»è‡ªèº«çš„ä¸€åŠäº†ï¼)


	//ã€æ—‹è½¬ã€‘
	// angle degree  (è§’åº¦å€¼)
	// rotation radians(å¼§åº¦å€¼ 3.1415926)
	smartText.anchor.set(0.5) //å…ˆè®¾ç½®ä¸€ä¸‹æ—‹è½¬ä¸­å¿ƒ
	smartText.rotation = Math.PI / 2 //æ—‹è½¬ 90 åº¦



	// ã€ç¼©æ”¾å’Œæ–œåˆ‡ã€‘ scale å’Œ skew
	sprite2.scale.x = 0.9
	sprite3.scale.set(0.8, 0.8)


	// ã€é€æ˜åº¦ã€‘
	sprite3.alpha = 0.5


	// ã€éšè—å…ƒç´ ã€‘
	// visible => ä¸æ¸²æŸ“   æ•°æ®ä¸æ›´æ–°   åŒ…æ‹¬å­å…ƒç´ 
	//  renderable => ä¸æ¸²æŸ“  ä½†æ˜¯æ•°æ®ä¼šæ›´æ–°  ä¸å½±å“å­å…ƒç´ 
	sprite2.renderable = false



	// ã€è’™ç‰ˆé®ç½©ã€‘
	const testCircle = new Graphics()
	testCircle.beginFill('black')
	.drawCircle(0 , 0 , 50)
	.endFill()

	testCircle.x = 200
	testCircle.y = 200
	app.stage.addChild(testCircle)

}




main()







