/*

ä¸€ã€åŽŸåž‹æ–¹æ³•
	Catch æ–¹æ³•
		Promise.prototype.catch
			1.ðŸŒŸè¯­æ³•ç³–,ç›¸å½“äºŽè°ƒç”¨ then(null,onRejected), æ¯”å¦‚ä¸æƒ³ä¼ å…¥ç¬¬ä¸€ä¸ª handle resolve å°±å¯ä»¥è¿™ä¹ˆå†™
			2.åªä¼ ä¸€ä¸ªã€å‡½æ•°å‚æ•°ã€‘, ç›¸å½“äºŽ handleRejected() å‡½æ•°, å¯ä»¥ã€èŽ·å–çˆ¶å®žä¾‹ã€‘çš„æ•°æ®
			3.ðŸŒŸè·Ÿ then ä¸€æ ·, æ‰§è¡Œçš„æ—¶æœºå°±æ˜¯ã€çˆ¶å®žä¾‹ã€‘å˜ä¸º rejected  çš„çŠ¶æ€
			4.ðŸŒŸä¹Ÿä¼šè¿”å›žä¸€ä¸ªæ–°çš„ Promise å®žä¾‹
		

	Finally æ–¹æ³•
		Promise.prototype.finally
			1.ðŸŒŸè¯­æ³•ç³–, ä¸€èˆ¬ç”¨äºŽå¤„ç†å¼‚æ­¥æ“ä½œçš„ç»“æŸçŠ¶æ€ï¼Œæ¸…ç†ä»£ç 
			2.åªä¼ ä¸€ä¸ªã€å‡½æ•°å‚æ•°ã€‘ï¼Œå‡½æ•°å†…æ²¡æœ‰å‚æ•°ï¼Œä¸éœ€è¦è¡Œå‚
			3.ðŸŒŸä¸ç®¡çˆ¶å®žä¾‹æ˜¯ fullfilled è¿˜æ˜¯ rejected, ã€ä¸ç®¡çˆ¶å®žä¾‹æ˜¯ä»€ä¹ˆçŠ¶æ€ã€‘ï¼Œæœ€ç»ˆéƒ½ä¼šæ‰§è¡Œè¿™ä¸ªå‡½æ•°
			4.çˆ¶å®žä¾‹çš„ã€è¿›åº¦çŠ¶æ€ã€‘è·Ÿã€æ•°æ®ã€‘éƒ½ä¼šâš¡ï¸ã€åŽŸæ ·åŽä¼ ã€‘
			5.å‡½æ•°ä¸­ã€return è¿”å›žçš„æ•°æ®ã€‘ä¸ä¼šæ”¹å˜å®žä¾‹çš„æ•°æ®
			6.ðŸŒŸä¹Ÿä¼šè¿”å›žä¸€ä¸ªæ–°çš„ Promise å®žä¾‹



äºŒã€é™æ€æ–¹æ³•(ç±»ä¼¼ class ä¸­ static å®šä¹‰çš„)
	Promise.resolve(x) 
		1.ç›´æŽ¥äº§ç”Ÿä¸€ä¸ª fullfilled çš„çŠ¶æ€
		2.å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯è¿™ä¸ª Promise çš„ã€è¿”å›žæ•°æ®ã€‘

	Promise.reject(x)
		1.ç›´æŽ¥äº§ç”Ÿä¸€ä¸ª rejected çš„çŠ¶æ€
		2.å¯ä»¥ä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯è¿™ä¸ª Promise çš„ã€è¿”å›žæ•°æ®ã€‘





	Promise.all()
		1.ðŸ”¥è¦ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚ã€æ•°ç»„ã€‘ï¼Œæ•°ç»„é‡Œè¾¹éƒ½æ˜¯ Promise å®žä¾‹ï¼
		2.æ‰§è¡ŒåŽä¼šè¿”å›žä¸€ä¸ªã€æ–°çš„ Promise å®žä¾‹ã€‘ï¼Œè¿™ä¸ªå®žä¾‹çš„ã€çŠ¶æ€ã€‘å’Œã€æ•°æ®ã€‘éƒ½æ˜¯æ ¹æ®ã€æ•°ç»„ã€‘ä¸­ Promise çš„å®žä¾‹ä»¬çš„ã€çŠ¶æ€ã€‘æ¥å†³å®šçš„
			2-1.âš¡ï¸å¦‚æžœæ•°ç»„å†…ã€æ‰€æœ‰ Promise éƒ½æ˜¯ fullfilledã€‘ï¼Œé‚£ä¹ˆè¿™ä¸ªã€æ–°çš„ Promise å®žä¾‹ã€‘çš„çŠ¶æ€ä¹Ÿæ˜¯ fullfilledï¼Œæ•°æ®ä¹Ÿæ˜¯ã€æ‰€æœ‰ Promise å®žä¾‹ç»„æˆçš„æ•°ç»„ã€‘
			2-2.å¦‚æžœå…¶ä¸­ã€æœ‰ä¸€ä¸ªæ˜¯ rejectedã€‘ï¼Œé‚£ä¹ˆè¿™ä¸ªã€æ–°çš„ Promise å®žä¾‹ã€‘çš„çŠ¶æ€ä¹Ÿæ˜¯ rejectedï¼Œæ•°æ®å°±æ˜¯ã€é‚£ä¸ªè¢« reject çš„ Promise å®žä¾‹çš„æ•°æ®ã€‘ï¼Œå¦‚æžœæœ‰å¤šä¸ªè¢« rejected åˆ™å–ç¬¬ä¸€ä¸ªè¢« rejected çš„æ•°æ®

	Promise.race()
		1.ðŸ”¥è¦ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚ã€æ•°ç»„ã€‘ï¼Œæ•°ç»„é‡Œè¾¹éƒ½æ˜¯ Promise å®žä¾‹ï¼
		2.æ‰§è¡ŒåŽä¼šè¿”å›žä¸€ä¸ªã€æ–°çš„ Promise å®žä¾‹ã€‘ï¼Œè¿™ä¸ªå®žä¾‹çš„ã€çŠ¶æ€ã€‘å’Œã€æ•°æ®ã€‘éƒ½æ˜¯æ ¹æ®ã€æ•°ç»„ã€‘ä¸­ Promise çš„å®žä¾‹ä»¬çš„ã€çŠ¶æ€ã€‘æ¥å†³å®šçš„
			2-1.çœ‹ç¬¬ä¸€ä¸ªå˜çŠ¶æ€çš„æ˜¯è°ï¼Œæ— è®ºå˜ä¸º fullfilled è¿˜æ˜¯ rejected, åªè¦æœ‰ä¸€ä¸ª Promise çš„çŠ¶æ€å˜äº†ï¼Œå°±å˜ä¸ºè¿™ä¸ª Promise çš„ã€çŠ¶æ€ã€‘è·Ÿã€æ•°æ®ã€‘,å…¶ä»–çš„éƒ½ä¼šè¢«é™é»˜å¤„ç†
			
	Promise.any()
		1.ðŸ”¥è¦ä¼ å…¥ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ï¼Œæ¯”å¦‚ã€æ•°ç»„ã€‘ï¼Œæ•°ç»„é‡Œè¾¹éƒ½æ˜¯ Promise å®žä¾‹ï¼
		2.æ‰§è¡ŒåŽä¼šè¿”å›žä¸€ä¸ªã€æ–°çš„ Promise å®žä¾‹ã€‘ï¼Œè¿™ä¸ªå®žä¾‹çš„ã€çŠ¶æ€ã€‘å’Œã€æ•°æ®ã€‘éƒ½æ˜¯æ ¹æ®ã€æ•°ç»„ã€‘ä¸­ Promise çš„å®žä¾‹ä»¬çš„ã€çŠ¶æ€ã€‘æ¥å†³å®šçš„
			2-1.åªè¦ã€æœ‰ä¸€ä¸ªã€‘æ˜¯ fullfilled çŠ¶æ€ï¼Œé‚£ä¹ˆè¿™ä¸ªã€æ–°çš„ Promise å®žä¾‹ã€‘çš„çŠ¶æ€å°±æ˜¯ fullfilled, æ•°æ®ä¹Ÿæ˜¯é‚£ä¸ª fullfilled çš„ Promise çš„æ•°æ®
			2-2.å¦‚æžœã€æ‰€æœ‰ã€‘çš„å®žä¾‹éƒ½æ˜¯ reject çŠ¶æ€ï¼Œé‚£ä¹ˆè¿”å›žçš„è¿™ä¸ªã€æ–°çš„ Promise å®žä¾‹ã€‘çš„çŠ¶æ€å°±ä¼šå˜æˆ rejectedï¼Œæ•°æ®æ˜¯ã€æ‰€æœ‰ rejected å®žä¾‹æ•°æ®ç»„æˆçš„æ•°ç»„ã€‘

*/ 


//â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”





//Catch æ–¹æ³•
const PROMISE = new Promise((resolve,reject)=>{
	reject('123')
})
PROMISE.catch((err) => {
	console.log(err)
})



//Finally æ–¹æ³•
const PROMISE_02 = new Promise((resolve,reject)=>{
	reject('æ‹’ç»äº†')
})
PROMISE_02.finally(() => {
	console.log('finally æ‹’ç»äº†')
	//è¿™é‡Œå°±ç®— return äº†ï¼Œä¹Ÿæ˜¯ä¸Šé¢çˆ¶å®žä¾‹çš„æ•°æ®ï¼Œè·Ÿ then ä¸ä¸€æ ·ï¼
})




//resolve æ–¹æ³•
console.log(Promise.resolve('123'))

//reject() æ–¹æ³•
console.log((Promise.reject('456'))
	.catch((err)=>{console.log(err);}))


//all æ–¹æ³•, è¿”å›žçš„ [[PromiseResult]] æ˜¯ä¸€ä¸ªæ•°ç»„æ•°æ®
const P = Promise.all([Promise.resolve('123'),Promise.resolve('456')])
console.log(P);


//all æ–¹æ³•å®žé™…åœºæ™¯
const P2 = Promise.all([
	new Promise((resolve,reject)=>{
		setTimeout(()=>{
			resolve('123')
		},3000)
	}),
	Promise.resolve('456')
])
console.log(P2);


//any æ–¹æ³•
const P3 = Promise.any([
	new Promise((resolve,reject)=>{
		setTimeout(()=>{
			reject('123')
		},3000)
	}),
	Promise.reject('456')
])
console.log(P3); //errors: (2) ['123', '456']