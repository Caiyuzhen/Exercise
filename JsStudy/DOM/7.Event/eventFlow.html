<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº‹ä»¶æµæœºåˆ¶</title>
    <h1>äº‹ä»¶æµæœºåˆ¶</h1>
    <h2 class='en2'>Event <span>ç›®æ ‡</span></h2>
    <h3>ç¬¬ä¸‰ä¸ªäº‹ä»¶</h3>
    <div id="circle1">parentçˆ¶
        <div id="circle2">childå­</div>
    </div>

</head>

<!-- 
    äº‹ä»¶ç›®æ ‡(ä¸åŒ…æ‹¬çˆ¶çº§,ä½œç”¨çš„æ˜¯æœ€æ·±å±‚çš„å…ƒç´ èŠ‚ç‚¹)
        æ˜¯ä»€ä¹ˆ
            äº‹ä»¶çœŸæ­£ä½œç”¨çš„é‚£ä¸ªå…ƒç´ èŠ‚ç‚¹(æ³¨æ„,å…ƒç´ è·Ÿæ–‡æœ¬èŠ‚ç‚¹æœ‰ä¸åŒçš„ç‚¹å‡»åŒºåŸŸ)
        
        ç‰¹æ€§(å¹¿æ’­æœºåˆ¶)
            åªè¦äº‹ä»¶è§¦å‘äº†,å°±ä¼šä»å…ƒç´ çš„æœ€å¤–å±‚ html ç»“æ„(ğŸŒŸé¡ºåºæ ¹æ®ä½ çš„æ–‡æ¡£ç»“æ„ğŸŒŸ)ä¸€å±‚å±‚çš„(ğŸŒŸå…ˆè‡ªä¸Šè€Œä¸‹å†è‡ªä¸‹è€Œä¸Š)çš„å»æ‰¾ä¸€éäº‹ä»¶,æ²¡æœ‰ç»‘å®šçš„å…ƒç´ éƒ½ä¼šè¢«æ‰¾ä¸€é
            ğŸŒŸğŸŒŸğŸŒŸ ç‚¹å†…å±‚,å¤–å±‚ä¹Ÿä¼šè¢«æ‰§è¡Œ,ç‚¹äº†å¤–å±‚,åªæ‰§è¡Œå¤–å±‚ ğŸŒŸğŸŒŸğŸŒŸ
        ç¤ºä¾‹
            html -> body -> H1(äº‹ä»¶ç›®æ ‡ click) -> span

            äº‹ä»¶æµçš„ä¸‰ä¸ªé˜¶æ®µ
                äº‹ä»¶æ•è·é˜¶æ®µ  capture
                äº‹ä»¶ç›®æ ‡     traget
                äº‹ä»¶å†’æ³¡     bubble

    ç¬¬ä¸‰ä¸ªå‚æ•°å¯ä»¥å†³å®šäº‹ä»¶æ˜¯åœ¨ä»€ä¹ˆé˜¶æ®µè§¦å‘çš„
        ğŸŒŸå¯ä»¥ä¼ å…¥ä¸€ä¸ªå¸ƒå°”å€¼(ä¸ä¼ çš„è¯,é»˜è®¤å°± false,åœ¨å†’æ³¡é˜¶æ®µå»æ‰§è¡Œ), ä¸€èˆ¬æ˜¯å†’æ³¡é˜¶æ®µå†å»æ‰§è¡Œ,å¯¹å…¼å®¹æ€§å‹å¥½
            å¦‚æœæ˜¯ true é‚£ä¹ˆå°±æ˜¯æ•è·é˜¶æ®µ -- 1
            å¦‚æœæ˜¯ false é‚£ä¹ˆå°±æ˜¯å†’æ³¡é˜¶æ®µ -- 3
            å¦‚æœæ˜¯ null é‚£ä¹ˆå°±æ˜¯äº‹ä»¶ç›®æ ‡é˜¶æ®µ --2
        
        ä¹Ÿå¯ä»¥ä¼ å…¥ä¸€ä¸ªå¯¹è±¡
            XXX

    DOM 0 çº§äº‹ä»¶æ˜¯åœ¨å†’æ³¡é˜¶æ®µå†æ‰§è¡Œçš„
        btn.onclick = function () {...}
    
    ğŸé˜»æ­¢äº‹ä»¶å†’æ³¡çš„æ–¹æ³•
        x.stopPropagation()
            ä¼šè¿”å›ä¸€ä¸ª undefined!!

    ğŸå…¶ä»–è¦ç‚¹
        ğŸäº‹ä»¶æ‰§è¡Œé˜¶æ®µçš„é‡è¦å±æ€§
            x.eventPhase  
                è¾“å‡º 1 / 2 / 3

            x.currentTarget (è¿™ä¸ªæŒ‡å‘çš„æ˜¯è°ğŸŒŸç»‘å®šäº†ğŸŒŸè¿™ä¸ªäº‹ä»¶æµ)
                æŒ‡å‘çš„å‡½æ•°æ‰€ç»‘å®šçš„ç›®æ ‡çš„å…ƒç´ , è·Ÿ this çš„æŒ‡å‘ä¸€æ ·
            è·Ÿ x.target.XXX æœ‰ç‚¹åƒ  (è¿™ä¸ªæŒ‡å‘çš„æ˜¯è°ğŸŒŸè§¦å‘äº†ğŸŒŸè¿™ä¸ªäº‹ä»¶æµ-ç›®æ ‡å…ƒç´ )         
        
        ğŸå¹¶ä¸æ˜¯æ‰€æœ‰äº‹ä»¶éƒ½ä¼šå†’æ³¡,è¯¦è§ä¸‹ä¸¤ç« 
    
-->
<body>
    <style>
        #circle1{
            height: 200px;
            width: 200px;
            background-color: aquamarine;
            text-align: center;
            line-height: 200px;
            border-radius: 12%;
        }
        #circle2{
            height: 80px;
            width: 80px;
            background-color: rgb(202, 127, 255);
            text-align: center;
            line-height: 80px;
            border-radius: 12%;
        }
    </style>
</body>

<script type="text/javascript">
    const h2 = document.querySelector('h2');
    h2.addEventListener('click',function(x){
        console.log('ç‚¹äº† h2 ç›®æ ‡',x.eventPhase)
    },true)


    document.body.addEventListener('click',function(x){
        console.log('ç‚¹äº† body',x.eventPhase)
    })

//äº‹ä»¶æ‰§è¡Œé˜¶æ®µ
    const h3 = document.querySelector('h3')
    h3.addEventListener('click',function(x){
        console.log('ç‚¹äº†ç¬¬ä¸‰ä¸ªäº‹ä»¶', x.eventPhase,x.currentTarget)
        //ğŸŒŸğŸŒŸ é˜»æ­¢äº‹ä»¶å†’æ³¡ğŸ‘‡,è¿™æ ·ç‚¹ h3 å°±ä¸ä¼šæ‰§è¡Œ body çš„è¿™ä¸ªäº‹ä»¶äº†!!
        console.log(x.stopPropagation())
    },true) //ğŸŒŸğŸŒŸ 2 å› ä¸ºè¿™ä¸ªæ˜¯æœ€ä¸‹é¢ä¸€å±‚!!æ‰€ä»¥æ— è®ºæ˜¯ true è¿˜æ˜¯ false éƒ½æ˜¯ 2


//ç»ƒä¹ 
//ç»™çˆ¶å­å…ƒç´ éƒ½ç»‘å®šäº‹ä»¶
//1.è®©çˆ¶å…ƒç´ çš„äº‹ä»¶åœ¨ç‚¹å‡»å­å…ƒç´ åå…ˆè§¦å‘
//2.ç‚¹å‡»åˆ°å­å…ƒç´ å,çˆ¶å…ƒç´ çš„äº‹ä»¶ä¸ä¼šè§¦å‘
const circle1 = document.getElementById('circle1')
const circle2 = document.getElementById('circle2')

//1.å…ˆè§¦å‘
// circle1.addEventListener('click',()=>{
//     console.log('ç‚¹äº†çˆ¶å…ƒç´ ')
// },true)

// circle2.addEventListener('click',()=>{
//     console.log('ç‚¹äº†å­å…ƒç´ ')
// },true)

//2.çˆ¶å…ƒç´ ä¸è§¦å‘
circle1.addEventListener('click',()=>{
    console.log('ç‚¹äº†çˆ¶å…ƒç´ ')
})

circle2.addEventListener('click',(x)=>{
    console.log('ç‚¹äº†å­å…ƒç´ ',x.stopPropagation())
})



</script>

</html>