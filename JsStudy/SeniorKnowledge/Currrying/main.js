/*
	é«˜é˜¶å‡½æ•°
		Whatï¼Ÿ
			èƒ½å¤Ÿæ¥æ”¶ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ã€ä½œä¸ºå‚æ•°ã€‘, å¹¶ä¸” ï½œ æˆ–è€… èƒ½å¤Ÿã€è¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‘
			
			å¸¸è§çš„é«˜é˜¶å‡½æ•°æœ‰ mapã€filterã€reduce ç­‰



	æŸ¯é‡ŒåŒ– Currying
		Whatï¼Ÿ
			ã€æ¥æ”¶å¤šä¸ªå‡½æ•°ã€‘ç„¶åè½¬åŒ–ä¸ºã€æ¥æ”¶å•ä¸€å‚æ•°ï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰ã€‘ç„¶åã€è¿”å›ä¸€ä¸ªæ–°å‡½æ•°ã€‘, è¿™ä¸ªæ–°å‡½æ•°ã€æ¥æ”¶ä½™ä¸‹çš„å‚æ•°ã€‘å¹¶è¿”å›ç»“æœ

		Why?
			æ¯”å¦‚ç”Ÿæˆæ—¥å¿—, æ¯ä¸€å¤©çš„æ—¶é—´æ˜¯ã€å›ºå®šã€‘çš„, å› æ­¤å¯ä»¥å›ºå®šã€æ—¶é—´ã€‘è¿™ä¸ªå‚æ•°, ä¸ç”¨æ¯æ¬¡éƒ½ä¼ å…¥å¤šä¸ªå‚æ•°
 */


// æŸ¯é‡ŒåŒ–å‡½æ•°ä¾‹å­
function curryFn(f) {
	return function(a) { //ğŸ‘ˆ ç¬¬ä¸€æ­¥äº§ç”Ÿçš„å‡½æ•°, a = 22, äº§ç”Ÿé—­åŒ…
		return function(b) { //ğŸ‘ˆ ç¬¬äºŒæ­¥äº§ç”Ÿçš„å‡½æ•°, b = 44, äº§ç”Ÿé—­åŒ…
			return f(a, b) // ğŸ‘ˆ f => å°±æ˜¯ sumFn å‡½æ•°
		}
	}
}

// æŸ¯é‡ŒåŒ–å‡½æ•°ç”¨æ³•
function sumFn(a, b) {
	return a + b
}

let curriedSum = curryFn(sumFn)
curriedSum(22)(44) // ğŸ‘ˆç›¸å½“äºæŠŠè¿”å›çš„å‡½æ•°å†æ¬¡è°ƒç”¨


// ğŸš€ å‡½æ•°æŸ¯é‡ŒåŒ–çš„æ„ä¹‰ â€”â€” å¯ä»¥ã€å›ºå®šç¬¬ä¸€ä¸ªå‚æ•°ã€‘, æ¯”å¦‚å›ºå®šä¸º 33, ä¸ç”¨æ¯æ¬¡éƒ½ä¼ å…¥ 33 
const fun1 = curryFn(33)
const result = fun1(99) //æ¯”å¦‚å¸Œæœ›ç»“æœä¸º 33+99,
const result2 = fun1(66) //æ¯”å¦‚å¸Œæœ›ç»“æœä¸º 33+66
const result3 = fun1(88) //æ¯”å¦‚å¸Œæœ›ç»“æœä¸º 33+88




// ğŸš€é«˜é˜¶æŸ¯é‡ŒåŒ–, å¯ä»¥åˆ¤æ–­å“ªäº›å‚æ•°éœ€è¦ke li huaæŸ¯é‡ŒåŒ– â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
function seniorCurry(func) {
	return function curried(...args) {
		if(args.length >= func.length) {
			return func.apply(this, args) //ğŸ‘ˆğŸ”¥ç›¸å½“äºæ‰§è¡Œäº†è¿™ä¸ªå‡½æ•°!!
		} else {
			return function(...args2) {
				return curried.apply(this, args.concat(args2)) //ğŸ‘ˆğŸ”¥æŸ¯é‡ŒåŒ–åçš„å¤„ç†
			}
		}
	}
}

function sumFn2(a, b, c) {
	return a + b + c
}

let curriedSum2 = seniorCurry(sumFn2)

alert( curriedSum2(1, 2, 3) ) //6, ä»ç„¶å¯ä»¥è¢«æ­£å¸¸ä½¿ç”¨
alert( curriedSum2(2)(2, 3) ) //6, å¯¹ç¬¬ä¸€ä¸ªå‚æ•°è¿›è¡ŒæŸ¯é‡ŒåŒ–
alert( curriedSum2(2)(2)(3) ) //6, å…¨éƒ¨å‚æ•°éƒ½è¢«æŸ¯é‡ŒåŒ–