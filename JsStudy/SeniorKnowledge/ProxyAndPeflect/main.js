/*
	ğŸŒŸğŸŒŸ ä»£ç†
		What?
			ç»™ç›®æ ‡å¯¹è±¡æ·»åŠ é¢å¤–çš„åŠŸèƒ½, ä½†æ˜¯ä¸æ”¹å˜ç›®æ ‡å¯¹è±¡çš„ç»“æ„
			å¦‚æœç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥çš„æ˜¯ç©ºå¯¹è±¡ {}, é‚£ä¹ˆä»£ç†å¯¹è±¡è·Ÿç›®æ ‡å¯¹è±¡éƒ½æ˜¯åŒæ­¥çš„

		How?
			ğŸŒŸ ä»£ç†æ•è·å™¨
				get
				set  => ğŸ‘ˆå¯ä»¥è®¾ç½® 4 ä¸ªå‚æ•°, å¿…é¡»è¿”å›å¸ƒå°”å€¼  => ğŸš€set æ–¹æ³•åœ¨ç»™ã€ä»£ç†ã€‘è®¾ç½®å±æ€§å€¼æ—¶ä¼šè§¦å‘æ•è·å™¨
				has  => ğŸ‘ˆå¯ä»¥è®¾ç½® 2 ä¸ªå‚æ•°  => ğŸš€ã€ä»£ç†ã€‘ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªã€å±æ€§åã€‘ => æœ‰ä¸ªã€ä¸å˜å¼ã€‘çš„è§„åˆ™ï¼ˆæ¯”å¦‚è¢«ä»£ç†çš„å¯¹è±¡ä¸Šçš„æŸä¸ªå±æ€§æ˜¯ä¸å¯è¢«ä¿®æ”¹çš„, é‚£ä¹ˆåˆ™ä¼šè¿”å› true)
				defineProperty
				getOwnPropertyDescriptor
				deleteProperty
				ownKeys
				getPrototypeOf
				setPrototypeOf
				isExtensible
				preventExtensible
				apply
				construct

		Why?
			ğŸ”¥ğŸ”¥ åœºæ™¯ 
					ğŸ”¥ æ¯”å¦‚ç”¨ä»£ç†æ‹¦æˆªä¸€ä¸‹, ã€æ£€æŸ¥ã€‘æŸäº›ä¼ å…¥çš„å‚æ•°æ˜¯å¦æ»¡è¶³è¦æ±‚
					ğŸ”¥ æ¯”å¦‚ç”¨æ¥åšã€å¯¹è±¡è™šæ‹ŸåŒ–ã€‘, å®ç°æ‡’åŠ è½½ã€è¿œç¨‹è°ƒç”¨ç­‰åŠŸèƒ½
					ğŸ”¥ æ¯”å¦‚ AOP ï¼ˆé¢å‘åˆ‡ç‰‡ç¼–ç¨‹ï¼‰, å®ç°ç”¨ä»£ç†æ¥åŠ¨æ€ä¿®æ”¹æŸä¸ªå¯¹è±¡çš„è¡Œä¸º, æ¯”å¦‚æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ç­‰ç­‰
					ğŸ”¥ æ¯”å¦‚ç”¨æ¥ã€ç¼“å­˜ã€‘æŸäº›æ•°æ®, é¿å…é‡å¤è®¡ç®—, å®ç°è®°å¿†å‡½æ•°
					ğŸ”¥ æ‹¦æˆª JS å¯¹æŸäº›å¯¹è±¡çš„ã€è®¿é—®ã€‘æˆ–ã€ä¿®æ”¹ã€‘

*/ 


const obj = {
	name: 'zen',
	age: 18
}


// è®¾ç½®ä»£ç†
const proxyObj = new Proxy(obj, { //ğŸ‘ˆç›®æ ‡å¯¹è±¡
	// è®¾ç½® set æ•è·å™¨
	set(target, key, value) { //target æ˜¯ obj, key æ˜¯ name, value æ˜¯ zen
		console.log('set æ–¹æ³•è¢«è§¦å‘', key,'ä¿®æ”¹ä¸º:', value)
		target[key] = value
		// return true // éœ€è¦è¿”å›å¸ƒå°”å€¼(ğŸŒŸ æ–¹å¼ä¸€, ç›´æ¥è¿”å›)
		return Reflect.set(...arguments) // éœ€è¦è¿”å›å¸ƒå°”å€¼(ğŸŒŸ æ–¹å¼äºŒ, ç”¨åå°„çš„æ–¹å¼è¿”å›), arguments ä¼šè·å–å½“å‰å‡½æ•°æ‰§è¡Œåçš„æ‰€æœ‰å‚æ•°
	},

	// è®¾ç½® delete æ•è·å™¨
	deleteProperty(target, property) {
		console.log('delete æ–¹æ³•è¢«è§¦å‘', 'åˆ é™¤äº†:', property)
		delete target[property]
	},

	// è®¾ç½® has æ•è·å™¨
	has(target, key) {
		console.log('has æ–¹æ³•è¢«è§¦å‘', 'æ£€æŸ¥çš„å±æ€§:', key)
		// return key in target
	}
})


// ğŸš€set æ–¹æ³•åœ¨ç»™ã€ğŸŒŸä»£ç†å¯¹è±¡ã€‘è®¾ç½®å±æ€§å€¼æ—¶ä¼šè§¦å‘æ•è·å™¨
proxyObj.name = 'ken'

// ğŸš€deleteProperty æ–¹æ³•åœ¨ç»™ã€ğŸŒŸä»£ç†å¯¹è±¡ã€‘åˆ é™¤å±æ€§æ—¶ä¼šè§¦å‘æ•è·å™¨
delete proxyObj.name

// ğŸš€ä»£ç†çš„ has æ–¹æ³•
console.log('name' in proxyObj) // false


// console.log(proxyObj.name) 






/*
	ğŸŒŸğŸŒŸ åå°„
		Whatï¼Ÿ
			è·Ÿä»£ç†çš„æ•è·å™¨çš„åå­—ã€æ•°é‡ã€å‚æ•°éƒ½æ˜¯ä¸€ä¸€å¯¹åº”çš„
			ä¼šæœ‰ã€ğŸŒŸé¢å¤–çš„è¿”å›å€¼ã€‘
		
		Whtï¼Ÿ
			ç”¨äºå–å€¼, å¹¶ä¸”èƒ½å¤Ÿæœ‰è¿”å›å€¼
	
*/

const obj2 = {
	name: 'Jimmy',
	age: 26
}


const res = Reflect.get(obj2, 'age') //ç­‰ä»·äº obj2.age 
console.log(res) // 26


const res2 = Reflect.set(obj2, 'age', 20)
console.log(res2) //ğŸ‘ˆ è¿”å›å¸ƒå°”å€¼ true