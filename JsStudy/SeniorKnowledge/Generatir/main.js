/*
	ç”Ÿæˆå™¨
		What?
			ğŸ”¥ å†…éƒ¨æœ‰ä¸ªç‰¹åˆ«çš„ã€å…³é”®å­—ã€‘ => yield
			ğŸ”¥ æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°åä¼šäº§ç”Ÿä¸€ä¸ª ã€ç”Ÿæˆå™¨å¯¹è±¡ã€‘ =>  å¯ä»¥ç†è§£ä¸ºäº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°çš„ã€æ§åˆ¶å™¨å¯¹è±¡ã€‘
			ğŸ”¥ ç”Ÿæˆå™¨å‡½æ•°æ‰§è¡Œåå¹¶ä¸ä¼šè®©å†…éƒ¨çš„å‡½æ•°æ‰§è¡Œ, åªä¼šäº§ç”Ÿä¸€ä¸ªã€ç”Ÿæˆå™¨å¯¹è±¡ã€‘ğŸ‘†
			ğŸ”¥ ã€ç”Ÿæˆå™¨å¯¹è±¡ã€‘æœ‰ä¸¤ä¸ªçŠ¶æ€ => suspendedã€closed 

		Why?
			æ¥ ï¼ˆæ¥æ”¶æ•°æ®ï¼‰
			ç»™ ï¼ˆæŠŠæ•°æ®ç»™åˆ°æ‰§è¡Œç»“æœ)
			åœ  (ç»§ç»­)

		How?
			åœ¨å‡½æ•°å‰é¢æ·»åŠ ä¸€ä¸ªâœ³ï¸ æ˜Ÿå·
			ç®­å¤´å‡½æ•°ä¸èƒ½å®šä¹‰ä¸ºç”Ÿæˆå™¨å‡½æ•°ï¼
			ğŸš€ è¿”å›çš„ã€æ§åˆ¶å™¨å¯¹è±¡ã€‘ä¸Šæœ‰ä¸ª next() æ–¹æ³•ï¼Œæ¯æ¬¡è°ƒç”¨åä¼šæ‰§è¡Œåˆ°ä¸‹ä¸€ä¸ª yield çš„ä½ç½®ï¼
*/ 


// ğŸ‘‡ä¸åŒå‡½æ•°å®šä¹‰æˆç”Ÿæˆå™¨å‡½æ•°çš„å†™æ³•ï¼ˆç®­å¤´å‡½æ•°ä¸èƒ½å®šä¹‰ä¸ºç”Ÿæˆå™¨å‡½æ•°ï¼ï¼‰
function * generatorFn() {
	console.log('åœåœ¨ç¬¬ 1 ä¸ª yield è¿™é‡Œ')
	yield 1 //æš‚åœåˆ°è¿™é‡Œ, æŠŠ 1 ç»™åˆ° value



	console.log('åœåœ¨ç¬¬ 2 ä¸ª yield è¿™é‡Œ')
	const Num = yield 2 // æ¥æ”¶æ•°æ®, ç”± next(998) ä¼ å…¥



	console.log(Num)
	console.log(Num, 'åœåœ¨ç¬¬ 3 ä¸ª yield è¿™é‡Œ')
	yield 3



	// æ¥æ”¶ç¬¬å››æ¬¡ä¼ å…¥çš„æ•°æ®
	const Num2 = yield 4
	console.log(Num2, 'åœåœ¨ç¬¬ 4 ä¸ª yield è¿™é‡Œ')


	yield


	return 1080
}

let generatorFn2 = function * () {}

let foo = {
	* generatorFn3 () {}
}

class Foo {
	* generatorFn4 () {}
}

class Bar {
	static * generatorFn5 () {}
}




// ğŸ”¥ æ‰§è¡Œç”Ÿæˆå™¨å‡½æ•°åä¼šäº§ç”Ÿä¸€ä¸ª ã€ç”Ÿæˆå™¨å¯¹è±¡ã€‘ =>  å¯ä»¥ç†è§£ä¸ºäº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨å‡½æ•°çš„ã€æ§åˆ¶å™¨å¯¹è±¡ã€‘, åŒæ ·çš„ä¹Ÿæ˜¯ä¼šæœ‰ value è·Ÿ done
const generator = generatorFn()
console.log(generator) //[[GeneratorState]] : "suspended"


generator.next()  //æ¯æ¬¡æ‰§è¡Œå, ç»§ç»­åˆ°ä¸‹ä¸€ä¸ª yield çš„ä½ç½®, æ³¨æ„ ç¬¬ä¸€æ¬¡æ‰§è¡Œæ—¶æ˜¯æ²¡æœ‰ yield çš„


generator.next()  //æ¯æ¬¡æ‰§è¡Œå, ç»§ç»­åˆ°ä¸‹ä¸€ä¸ª yield çš„ä½ç½®


generator.next(998)  //æ¯æ¬¡æ‰§è¡Œå, ç»§ç»­åˆ°ä¸‹ä¸€ä¸ª yield çš„ä½ç½®, ä¼ å…¥å‚æ•°, åªæœ‰ç¬¬ä¸€ä¸ªå‚æ•°æ‰ä¼šè¢«æ¥æ”¶


generator.next() //æ¯æ¬¡æ‰§è¡Œå, ç»§ç»­åˆ°ä¸‹ä¸€ä¸ª yield çš„ä½ç½®


generator.next(44) //æ¯æ¬¡æ‰§è¡Œå, ç»§ç»­åˆ°ä¸‹ä¸€ä¸ª 



console.log(generator.next())  //value 4





/*
	ğŸš€ã€ç”Ÿæˆå™¨å‡½æ•°ã€‘ç»“åˆã€è¿­ä»£å™¨å‡½æ•°ã€‘â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

		What?
			ç”Ÿæˆå™¨å‡½æ•°æœ¬èº«æ˜¯å¯è¿­ä»£å¯¹è±¡, æ‰€ä»¥å¯ä»¥ã€ç»“åˆè¿­ä»£å™¨å‡½æ•°ã€‘ä½¿ç”¨

		Howï¼Ÿ
			ä¸€èˆ¬ç”¨æ³•
			å§”æ‰˜å¼ç”¨æ³•
				yield åè¾¹ç”¨ * è·Ÿä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡
			é€’å½’å¼ç”¨æ³•
*/ 

// ä¾‹å­ä¸€ - ä¸€èˆ¬ç”¨æ³•
function * generatorFn3 () {
	yield 1
	yield 2
	yield 3
}

const g2 = generatorFn3()

for(let i of g2) { // æœ¬è´¨ä¸Šè°ƒç”¨çš„æ˜¯ç”Ÿæˆå™¨è¿”å›å¯¹è±¡çš„ next()
	console.log(i)
}



const obj99 = {}
obj99[Symbol.iterator] = function * () {
	yield 1
	yield 2
	yield 3
}

for(let i of obj99) { // å› ä¸ºã€iterator è¿­ä»£å™¨ã€‘æœ¬è´¨ä¸Šä¼šäº§ç”Ÿä¸€ä¸ªã€è¿­ä»£å™¨å¯¹è±¡ã€‘, è¿™ä¸ªå¯¹è±¡å›å»æ‰§è¡Œ next() æ–¹æ³•, æ‰€ä»¥ä¼šæŠŠ value è¿­ä»£å‡ºæ¥
	console.log(i)
}



console.log('____')



// ä¾‹å­äºŒ - å§”æ‰˜å¼ç”¨æ³•
function * generatorFn666 () {
	yield * [1, 2, 3, 4, 5] //ğŸš€ğŸš€åœ¨ç”Ÿæˆå™¨å†…çš„ yield åè¾¹ç”¨ * å®šä¹‰ä¸€ä¸ªã€å¯è¿­ä»£å¯¹è±¡ã€‘, ç›¸å½“äºä¼šå§”æ‰˜æ¥è¿­ä»£è¿™ä¸ªå¯¹è±¡
}

let obj666 = generatorFn666()

for(let i of obj666) { 
	console.log(i)
}




console.log('____')




// ä¾‹å­ä¸‰ - é€’å½’å¼ç”¨æ³•
function * fibonacci(n, current = 0, next = 1) {
	if(n === 0) {
		return current
	}

	yield current
	yield * fibonacci(n - 1, next, current + next) //æ¯æ¬¡éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡
}

// ç”Ÿæˆæ–æ³¢é‚£å¥‘æ•°åˆ—å‰ 10 ä¸ªæ•°
for(let value of fibonacci(10)) {
	console.log(value)
}

