/*
	æ­£åˆ™è¡¨è¾¾å¼
		What?
			ç”¨æ¥åŒ¹é…æ–‡å­—çš„è§„åˆ™

		How?
			åŸºæœ¬å†™æ³•: ä¸¤è¾¹ä¸ºæ–œæ , ä¸­é—´ä¸ºå­—ç¬¦
				/å­—ç¬¦/   ->  åŒ¹é… å­—ç¬¦
				/å­—ç¬¦/i  ->  å¿½ç•¥å¤§å°å†™æ¥åŒ¹é…å­—ç¬¦

			ä¿®é¥°ç¬¦:
				i  ->  å¿½ç•¥å¤§å°å†™, åªä¼šè¿”å›ç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„ç»“æœ ->  ignore
				g  ->  å…¨å±€åŒ¹é…(å…¨éƒ¨åŒ¹é…), åŒ¹é…åˆ°ä¸‹ä¸€ä¸ªç»“æœåç»§ç»­åŒ¹é…ä¸‹ä¸€ä¸ª  ->  global
				m  ->  å¤šè¡ŒåŒ¹é…, åœ¨å¤šè¡Œæ–‡æœ¬å†…åŒ¹é…æ¯è¡Œçš„å¼€å¤´è·Ÿç»“å°¾  ->  multiple
				s  ->  è®©ç‚¹ (.) åŒ¹é…ä»»ä½•å­—ç¬¦, åŒ…æ‹¬æ¢è¡Œç¬¦ 
				u  ->  å¯åŠ¨ Unicode  åŒ¹é…æ¨¡å¼  ->  unicode
				y  ->  ç²˜æ€§åŒ¹é…, ä»ç›®æ ‡å­—ç¬¦ä¸²æŒ‡å®šä½ç½®å¼€å§‹åŒ¹é… 

			æ•°é‡ä¸å®šåŒ¹é…:
				{m,}  ->  è‡³å°‘å‡ºç° m æ¬¡
				{m}  ->  ç­‰ä»·äº {m,m} è¡¨ç¤ºå‡ºç° m æ¬¡
				?  ->  ç­‰ä»·äº {0,1} è¡¨ç¤ºå‡ºç°æˆ–ä¸å‡ºç°
				+  ->  ç­‰ä»·äº {1,} è¡¨ç¤ºè‡³å°‘å‡ºç° 1 æ¬¡
				*  ->  ç­‰ä»·äº {0,} è¡¨ç¤ºå‡ºç°ä»»æ„æ¬¡æ•°, æœ‰å¯èƒ½ä¸å‡ºç°

				æƒ°æ€§åŒ¹é…:
					{m,n}?  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦è‡³å°‘å‡ºç° m æ¬¡, æœ€å¤šå‡ºç° n æ¬¡, ä½†å°½å¯èƒ½å°‘é‡å¤
					{m,}?  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦è‡³å°‘å‡ºç° m æ¬¡, ä½†å°½å¯èƒ½å°‘é‡å¤
					??  ->   è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦å‡ºç° 0 æ¬¡æˆ– 1 æ¬¡, ä½†å°½å¯èƒ½å°‘é‡å¤
					+?  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦å‡ºç° 1 æ¬¡æˆ–å¤šæ¬¡, ä½†å°½å¯èƒ½å°‘é‡å¤
					*  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦å‡ºç° 0 æ¬¡æˆ–å¤šæ¬¡, ä½†å°½å¯èƒ½å°‘é‡å¤

				è´ªå©ªåŒ¹é…:
					{m,n}  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦è‡³å°‘å‡ºç° m æ¬¡, æœ€å¤šå‡ºç° n æ¬¡
					{m,}  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦è‡³å°‘å‡ºç° m æ¬¡
					{m}  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦å‡ºç° m æ¬¡
					?  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦å‡ºç° 0 æ¬¡æˆ– 1 æ¬¡
					+  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦å‡ºç° 1 æ¬¡æˆ–å¤šæ¬¡
					*  ->  è¡¨ç¤ºè¿™ä¸ªå­—ç¬¦å‡ºç° 0 æ¬¡æˆ–å¤šæ¬¡

			å­—ç¬¦ä¸å®šåŒ¹é…:
				/1[oajs31o8]/g  ->  åŒ¹é…åˆ° 1 è·Ÿ [oajs31o8] è¿™å †å­—ç¬¦å†…çš„ä»»æ„ä¸€ä¸ª ã€è·Ÿ 1 çš„ç»„åˆã€‘ï¼ï¼
				
			èŒƒå›´è¡¨ç¤ºæ³• [0-9]  [a-z]  [A-Z]
				è¿ç»­çš„å­—ç¬¦çš„ç®€å†™æ–¹å¼
					[12345abcdefg] => ç­‰ä»·äº [1-5a-g]

					ğŸ”¥ å¦‚æœæƒ³åœ¨ä¸€ä¸ªèŒƒå›´å†…å†…å–å€¼, \ è¡¨ç¤ºè½¬ä¹‰ç¬¦
						[a\-z] æˆ– [-az] æˆ– [az-]

			âŒ æ’é™¤å†™æ³•
				[^abc]  ->  æ’é™¤ abc å­—ç¬¦

			âš¡ï¸ åŒ¹é…å­—ç¬¦ç»„çš„æ–¹æ³• (ğŸ‘‡å¤§å†™è¡¨ç¤ºæ’é™¤) âš¡ï¸éƒ½æ˜¯åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼
					\d  	->  åŒ¹é… [0-9] çš„ä¸€ä½æ•°å­—  , d  ä¸º digit
					ğŸš€\D  	->   [^0-9]  è¡¨ç¤ºé™¤äº†æ•°å­—å¤–çš„ä»»æ„å­—ç¬¦
					\w  	->   [0-9a-zA-Z_]  ,	 è¡¨ç¤ºæ•°å­—ã€å¤§å°å†™å­—æ¯å’Œä¸‹åˆ’çº¿  , w ä¸º word
					\W 		->   [^0-9a-zA-X_] ,    è¡¨ç¤ºæ’é™¤æ‰å•è¯è·Ÿå­—ç¬¦
					\s   	->   [ \t\v\n\r\f] ,    è¡¨ç¤ºç©ºç™½ç¬¦å·, åŒ…æ‹¬ç©ºæ ¼ã€æ°´å¹³åˆ¶è¡¨ç¬¦ã€å‚ç›´åˆ¶è¡¨ç¬¦ã€æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€æ¢é¡µç¬¦
					\S      ->  è¡¨ç¤º  [^ \t\v\n\r\f] ,  è¡¨ç¤ºéç©ºç™½ç¬¦
					. 		->	è¡¨ç¤º [^\n\r\u2028\u2029] é€šé…ç¬¦,  è¡¨ç¤ºå‡ ä¹ä»»æ„å­—ç¬¦, æ¢è¡Œç¬¦ã€å›è½¦ç¬¦ã€è¡Œ&æ®µåˆ†éš”ç¬¦é™¤å¤– (ğŸ‘ˆå¦‚æœåŠ äº† s, é‚£ä¹ˆ . ç‚¹ä¹Ÿèƒ½åŒ¹é…è¿™äº›å­—ç¬¦)

			ğŸš€ åŒ¹é…ä»»æ„å­—ç¬¦ï¼ˆâš¡ï¸éƒ½æ˜¯åŒ¹é…ä¸€ä¸ªå­—ç¬¦ï¼ï¼‰
				[\d\D]
				[\w\W]
				[\s\S]
				[^]

			ğŸš—ä½ç½®åŒ¹é…
				^  ->  åŒ¹é…å¼€å¤´
				$  ->  åŒ¹é…ç»“å°¾

			åˆ†ç»„:
				åœ†æ‹¬å· ()
					åœ†æ‹¬å·æ˜¯åˆ†ç»„, æ–¹æ‹¬å·æ˜¯é€‰ä¸€ä¸ª


				é…åˆæ­£åˆ™è¡¨è¾¾å¼çš„æ–¹æ³•
					âœï¸String å­—ç¬¦ä¸²æ–¹æ³•
						match()  ->  åŒ¹é…æŸä¸ªå­—ç¬¦
						split()  ->  åˆ é™¤åŒ¹é…åˆ°çš„å­—ç¬¦, å¹¶è¿”å›æ‹†åˆ†åçš„æ•°ç»„
						search()  ->  æœç´¢åŒ¹é…åˆ°çš„å­—ç¬¦(æœ‰å¤šä¸ªå°±è¿”å›ç¬¬ 1 ä¸ª), å¹¶è¿”å›ç´¢å¼•
						replace()
					
					RegExp
						æ­£åˆ™è¡¨è¾¾å¼è‡ªå·±çš„ç±»å‹
							ç”¨æ³•
								const reg = new RegExp(/\d/, 'g') //è§„åˆ™ + ä¿®é¥°ç¬¦
							âš¡ï¸è¢«æ­£åˆ™å¯¹è±¡èº«ä¸Šçš„å±æ€§
								lastIndex
							ç±»å‹èº«ä¸Šçš„æ–¹æ³•
								exec()  æœ‰ g ä¹Ÿåªæ˜¯æ¯æ¬¡éƒ½åŒ¹é…ä¸€æ¬¡, ä½†æ˜¯èƒ½è®°å½•åŒ¹é…åˆ°å“ªé‡Œäº†
								test()  è¡¨ç¤ºæ˜¯å¦åŒ¹é…åˆ°äº†, è¿”å› true æˆ– false
			
*/

const reg = /a/




//ğŸš€ ç”¨å­—ç¬¦ä¸²çš„ match æ–¹æ³•ç»“åˆæ­£åˆ™è¡¨è¾¾å¼æ¥åŒ¹é…æ–‡å­—, ğŸŒŸ g è¡¨ç¤ºåŒ¹é…ã€æ‰€æœ‰ã€‘
const str = 'heyHHCode'
const reg2 = /h/ig
const res = str.match(reg2)
console.log(res) //res[0] => h



// ğŸ‘‡æ•°é‡ä¸å®šåŒ¹é…
// è´ªå©ªåŒ¹é… -> èƒ½åŒ¹é…å¤šå°±ä¸åŒ¹é…å°‘  =>  æ¯”å¦‚ 22 å³å¤åˆ 2 ä¹Ÿç¬¦åˆ 22, æ­¤æ—¶å°±åŒ¹é… 22
const str2 = '298398224767222'
const reg3 = /2{1,3}/g //ä¸€ä¸ª 2 ä¸¤ä¸ª 2 ä¸‰ä¸ª 2
const res2 = str2.match(reg3)
console.log(res2) // 2, 22, 222



// æ‡’æƒ°åŒ¹é… -> èƒ½åŒ¹é…å°‘å°±ä¸åŒ¹é…å¤š  =>  æ¯”å¦‚ 22 å³ç¬¦åˆ 2 ä¹Ÿç¬¦åˆ 22, æ­¤æ—¶å°±åŒ¹é… 22
const str3 = '298398224767222'
const reg4 = /2{1,3}?/g //ä¸€ä¸ª 2 ä¸¤ä¸ª 2 ä¸‰ä¸ª 2
const res3 = str3.match(reg4)
console.log(res3) // 2, 2, 2, 2, 2, 2


// è¿å¸¦ç©ºå­—ç¬¦ä¸²ä¸€èµ·åŒ¹é…
const str4 = 'heyHHCode'
const reg5 = /h?/g //å› ä¸º ï¼Ÿ è¡¨ç¤º
const res4 = str4.match(reg5)
console.log(res4) // h, "", "", "", "", "", "", ""


// ğŸ‘‡å­—ç¬¦ä¸å®šåŒ¹é…
const str5 = '1akhkljas18ie821024'
const reg6 = /1[oajs31o8]/g  //1a  18
const res5 = str5.match(reg6)
console.log(res5) // 1a



// æ’é™¤æŸå‡ ä¸ªå­—ç¬¦
const str6 = '1akhkljas18ie821024'
const reg7 = /[^hk8]/g  
const res6 = str6.match(reg7)
console.log('æ’é™¤ hk8 å:', res6) 



// åªå–å‡ºæ•°å­—
const str7 = '1akhkljas18ie821024'
const reg8 = /\d/g  
const res7 = str7.match(reg8)
console.log('æ’é™¤å•è¯åªè¦æ•°å­—:', res7) 



// åŒ¹é…  ä»»æ„æ•°å­— & 2 çš„ç»„åˆå½¢å¼
const str8 = '1akhkljas18ie82102499299992'
const reg9 = /\d2/g   // åŒ¹é…åˆ°æ•°å­—ç„¶åè·Ÿ 2 ç»„åˆèµ·æ¥
const res8 = str8.match(reg9)
console.log('ä»»æ„æ•°å­— & 2 çš„ç»„åˆå½¢å¼:', res8)  //82  02  92  92




// åŒ¹é…  ä»»æ„æ•°å­— & 2 çš„ç»„åˆå½¢å¼ è´ªå©ªåŒ¹é…
const str9 = '1akhkljas18ie82102499299992'
const reg10 = /\d{1,3}2/g   // è‡³å°‘åŒ¹é…åˆ° 1~3 ä¸ªã€æ•°å­—ã€‘ ç„¶åè·Ÿ 2 ç»„åˆ1èµ·æ¥
const res9 = str9.match(reg10)
console.log('è´ªå©ªåŒ¹é…ä»»æ„æ•°å­— & 2 çš„ç»„åˆå½¢å¼:', res9) //82  102  4992  992



// åˆ†ç»„
const str10 = '1akh123kljas18ie82102499291239992'
const reg11 = /(123)+/g  //è¡¨ç¤º 123 è¿™ç»„æ•°æ®, å¹¶ä¸”è‡³å°‘æœ‰ 1 ç»„
const res10 = str10.match(reg11)
console.log('åŒ¹é… 123 è¿™ç»„æ•°æ®, å¹¶ä¸”è‡³å°‘æœ‰ 1 ç»„:', res10) 








// âš¡ï¸æ­£åˆ™è¡¨è¾¾å¼è·Ÿã€ğŸš€å­—ç¬¦ä¸²æ–¹æ³•ã€‘çš„ç»“åˆ splitã€ searchã€ replace â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
const str000 = 'hello_Amy'
const reg000 = /_/ //åŒ¹é…åˆ° 0 å¤„
console.log('åˆ†å‰²æ–¹æ³•ç»“åˆæ­£åˆ™:', str000.split(reg000)) //ğŸš€ split æ–¹æ³•, ä¼ å…¥æ­£åˆ™è¡¨è¾¾å¼, ä¼šã€æŠŠåŒ¹é…åˆ°çš„å­—ç¬¦å»æ‰ã€‘, ç„¶åè¿”å›ä¸€ä¸ªæ•°ç»„



// æ›¿æ¢æŸä¸ªå­—ç¬¦ replace æ–¹æ³•çš„å…¥é—¨ç”¨æ³•
const str111 = 'There is a dog in the house'
const reg111 = /dog/i //åŒ¹é…åˆ° dog , i è¡¨ç¤ºå¿½ç•¥å¤§å°å†™
console.log('æŠŠç‹—æ¢æˆçŒ«:', str111.replace(reg111, 'cat')) //ä¼ å…¥æ­£åˆ™, ä¼ å…¥è¦æ›¿æ¢çš„å­—ç¬¦



//ğŸŒŸğŸŒŸ æ›¿æ¢æ—¶é—´æ ¼å¼ replace æ–¹æ³•çš„ç»å…¸ç”¨æ³•, () åŒ…æ‹¬èµ·æ¥çš„æ‰èƒ½è¢« $ ç»™è¯†åˆ«åˆ°
let regex333 = /(\d{4})-(\d{2})-(\d{2})/ //ğŸš€ğŸš€ {4} è¡¨ç¤ºå‡ºç° 4 æ¬¡, {2} è¡¨ç¤ºå‡ºç° 2 æ¬¡, ä»¥æ­¤ç±»æ¨  =>  2018  04  28
let str333 = '2018-04-28'
let res333 = str333.replace(regex333, "$2/$3/$1") //ğŸš€ğŸš€ $ ç¾å…ƒç¬¦å·æ˜¯ replace çš„ç‰¹æ®Šæ–¹æ³• => $2 è¡¨ç¤ºè·å–ä¸Šè¾¹ regex333 å†…çš„ç¬¬ 2 ä¸ªåˆ†ç»„ () çš„å†…å®¹, $3 è¡¨ç¤ºè·å–ä¸Šè¾¹ regex333 å†…çš„ç¬¬ 3 ä¸ªåˆ†ç»„ () çš„å†…å®¹, ä»¥æ­¤ç±»æ¨
console.log(res333)







//  RegExp ç±» èº«ä¸Šçš„æ–¹æ³• â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
// test() æ–¹æ³• => æ˜¯å¦åŒ¹é…åˆ°äº†, åŒ¹é…åˆ°äº†åˆ™è¿”å› true, å¦åˆ™è¿”å› false
const str99 = 'table football'
const regex99 = new RegExp('foo*', 'g')
const globalRegex = new RegExp('foo*')

console.log(regex99.test(str99)) // ğŸš€ä¼ å…¥å­—ç¬¦ä¸²  ->  true
console.log(globalRegex.test(str99)) // ğŸš€ä¼ å…¥å­—ç¬¦ä¸²  ->  true


// exec() æ–¹æ³•ã€lastIndex å±æ€§
const regex66 = /hello/g //å®šä¹‰ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼, åŒ¹é… hello
const str66 = 'hello world, hello world'

let match //ğŸ‘‡ä¼šæ‰¾å‡ºä¸¤ä¸ª hello, å¹¶ä¸”è®°å½•åœ¨å“ªé‡Œæ‰¾åˆ°, ä»å“ªé‡Œå¼€å§‹æ‰¾ !!
while((match = regex66.exec(str66)) !== null) { // regex66.exec æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼
	console.log(match)
	console.log(`æ‰¾åˆ°äº† ${match[0]} åœ¨ ${match.index} ä½ç½®`)
	console.log(`ä¸‹ä¸€æ¬¡åŒ¹é…ä» ${regex66.lastIndex} å¼€å§‹`) 
}

