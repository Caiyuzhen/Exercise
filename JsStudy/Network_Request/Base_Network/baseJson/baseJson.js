/*
	åœ¨ JS å†…åˆ›å»º JSON å¯¹è±¡
		éœ€è¦ç”¨ '' å•å¼•å·æˆ– `` åæ’‡å·åŒ…è£¹
	
	æŠŠ JSON è¿™ç§çº¯å­—ç¬¦ä¸²çš„æ•°æ®è½¬åŒ–æˆ js èƒ½è¯†åˆ«çš„å¯¹è±¡
		ðŸŒŸ JSON.parse(data)
			ç¬¬ä¸€ä¸ªå‚æ•°
				 å°†æœåŠ¡å™¨è¿”å›žçš„ data æ•°æ®è§£æžä¸º JS èƒ½è¯†åˆ«çš„æ ¼å¼
			
			è¿˜èƒ½ä¼ ç¬¬äºŒä¸ªå‚æ•°
				åŒä¸‹


		ðŸŒŸ JSON.stringify(obj) 
			ç¬¬ä¸€ä¸ªå‚æ•°
			 	å°†å¯¹è±¡è½¬åŒ–æˆ JSON å­—ç¬¦ä¸²çš„æ ¼å¼
			 	âš ï¸æ³¨æ„ï¼šæ­¤æ–¹æ³•ä¼šè¿‡æ»¤æŽ‰ã€å‡½æ•°ã€‘ã€è·Ÿã€undefinedã€‘çš„å±žæ€§

			è¿˜èƒ½ä¼ ç¬¬äºŒä¸ªå‚æ•°
				ðŸŒŸ å¦‚æžœç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„ [], åˆ™ä¼šè¿‡æ»¤æŽ‰æ•°ç»„ä¸­çš„å…ƒç´ 
						æ¯”å¦‚ JSON.parse(data, ["name", "age"])
								åªè§£æž name å’Œ age å±žæ€§ï¼Œå…¶ä»–å±žæ€§éƒ½ä¼šè¢«è¿‡æ»¤æŽ‰
						æ¯”å¦‚ JSON.stringify(obj, ["name", "age"])
								åªè½¬åŒ– name å’Œ age å±žæ€§ï¼Œå…¶ä»–å±žæ€§éƒ½ä¼šè¢«è¿‡æ»¤æŽ‰

				ðŸŒŸ å¦‚æžœç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°, å‡½æ•°ä¼šè‡ªåŠ¨ä¼ å…¥ keyï¼Œvalue, ç„¶åŽåœ¨å›žè°ƒå‡½æ•°å†…ä¾æ¬¡è¾“å‡ºå€¼
						åœ¨ä¼ å‡½æ•°çš„æƒ…å†µä¸‹ç¬¬ä¸€ä¸ª key æ˜¯ '' ç©ºå­—ç¬¦ä¸²
								æ¯”å¦‚ JSON.stringify(obj, (key, value) =>{
									console.log(key, value);
								})
								ç„¶åŽä¼šåœ¨å›žè°ƒå‡½æ•°å†…è‡ªåŠ¨ä¾æ¬¡è¾“å‡º obj + obj å†…çš„ã€å€¼ã€‘
								ðŸ”¥ å¾ˆç¥žå¥‡ï¼šåŒæ—¶ä¹Ÿå¯ä»¥ä¿®æ”¹å€¼ if '' æ‰è¾“å‡ºæ¯ä¸ªå€¼ï¼Œ else å°±æ˜¯ä¿®æ”¹æ¯ä¸ªå€¼ï¼ï¼

				ðŸŒŸ ç¬¬ä¸‰ä¸ªå‚æ•°
						ä¼ æ•°æ®, è®©è¿”å›žçš„ JSON æ•°æ®å¯ä»¥ç¼©è¿›, æ›´æ˜“è¯»
*/ 



//Json æ•°æ®è§£æžï¼ˆparseï¼‰ â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”

	//åˆ›å»º Json æ•°æ®
	const jsonData = `{
		"name": "KIM",
		"age": "20",
		"male": false
	}`

	console.log(jsonData)



	const res = JSON.parse(jsonData)
	console.log(res);


	console.log("1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-");


	//ä¼ å…¥ç¬¬äºŒä¸ªå‚æ•°, å¯ä»¥æ˜¯ä¸ªå‡½æ•°
	const result01 = JSON.parse(jsonData, (key, value)=>{
		if(key === ''){
			return value
		}else{
			return 'ä¿®æ”¹äº†'
		}
	})

	console.log(result01);



	console.log("2â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-");


//è½¬åŒ–ä¸º JSON æ•°æ® (stringify) â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
	//ðŸ”¥obj æ˜¯ JS èƒ½è¯†åˆ«çš„å¯¹è±¡ï¼Œä½†æ˜¯ Json ä¸èƒ½è¯†åˆ«ï¼Œæ‰€ä»¥è¦é€šè¿‡ stringify() è½¬ä¸º Json èƒ½å¤Ÿçš„æ•°æ®!
	//âš ï¸æ³¨æ„ï¼Œè¦è½¬ä¸º Json æ•°æ®çš„è¯ï¼Œä¸èƒ½è½¬åŒ–å‡½æ•°ï¼Œé™¤éžæŠŠå‡½æ•°å†™æˆå­—ç¬¦ä¸²çš„å½¢å¼
	const obj = {
		name: 'KIM',
		age: '20',
		male: false,
		// smile(){
		// 	alert('ðŸ˜„')
		// }
		smile:`function(){
			console.log("ðŸ˜„")
		}`,
		abc: undefined,//è¿™ä¸ªå±žæ€§ä½¿ç”¨  JSON.stringify æ–¹æ³•çš„è¯ä¼šè¢«è¿‡æ»¤æŽ‰ï¼
	}

	const res2 = JSON.stringify(obj)
	console.log(res2)



	console.log("3â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-");




	//ðŸŒŸ ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥æ•°ç»„ [], åˆ™ä¼šè¿‡æ»¤æŽ‰å…¶ä»–æ•°æ®ï¼Œåªä¿ç•™æ•°ç»„ä¸­çš„æ•°æ®
	const res3 = JSON.stringify(obj, ["name"])
	console.log('è¿‡æ»¤åŽçš„ç»“æžœ:',res3)


	console.log("4â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-");



	const obj4 = {
		name: 'KIM',
		age: '20',
		male: true,
	}

	//ðŸŒŸ å¦‚æžœç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡½æ•°, å‡½æ•°ä¼šè‡ªåŠ¨ä¼ å…¥ keyï¼Œvalue, ç„¶åŽåœ¨å›žè°ƒå‡½æ•°å†…ä¾æ¬¡è¾“å‡ºå€¼
	const res4 = JSON.stringify(obj4, (key, value) => {//ç¬¬ä¸€ä¸ª key æ˜¯ '' ç©ºå­—ç¬¦ä¸²
		console.log('è¾“å‡º res 4 çš„ç»“æžœ:', value); //å¦‚æžœæ²¡æœ‰è¿™ä¸ªçš„è¯ï¼Œå°±ä¼šèµ° else, è¦å…ˆæ‰§è¡Œä¸€é value ç›¸å…³çš„æ•°æ®æ‰ä¼šä¾æ¬¡æ‰“å°å‡ºé‡Œè¾¹çš„æ•°æ®
		if(key === ''){ 
			return value 
		}else{
			return 'ABC'   //å¦‚æžœèµ°åˆ°è¿™ä¸€æ­¥ï¼Œå°±æ˜¯ä¿®æ”¹ obj4 å†…çš„å€¼
		}
	}, 2)//ðŸ”¥ðŸ”¥è‡ªå®šä¹‰ç¼©è¿›è·ç¦»ï¼


	console.log(res4) //ä¿®æ”¹ res4 çš„å€¼ä¸º ABC



	console.log("5â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-");



	//ðŸŒŸ æˆ–è€…æ˜¯ä¿®æ”¹æŽ‰é‡Œè¾¹çš„å€¼ï¼ï¼
	const res5 = JSON.stringify(obj4, (key, value) => {//ç¬¬ä¸€ä¸ª key æ˜¯ '' ç©ºå­—ç¬¦ä¸²

		if(key === ''){
			return {  //ä¿®æ”¹å€¼
				aa: '111',
				bb: '222',
			}  
		}else{
			return value  //å¦‚æžœèµ°åˆ°è¿™ä¸€æ­¥ï¼Œå°±æ˜¯ä¿®æ”¹ obj4 å†…çš„å€¼
		}
	}, 2) //ðŸ”¥ðŸ”¥è‡ªå®šä¹‰ç¼©è¿›è·ç¦»ï¼


	console.log(res5)  //ä¿®æ”¹ res5 çš„å€¼ä¸º aa:"111",bb:"222"




	console.log("6â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-");


	const obj6 = {
		name: 'KIM',
		age: '20',
		male: true,
	}


	//ðŸŒŸ æˆ–è€…æ˜¯æ ¹æ®æ¡ä»¶ä¿®æ”¹æŽ‰é‡Œè¾¹çš„å€¼ï¼ï¼
	const res6 = JSON.stringify(obj6, (key, value) => {//ç¬¬ä¸€ä¸ª key æ˜¯ '' ç©ºå­—ç¬¦ä¸²

		if(key === ''){
			return value
		}else if(key === 'age'){
			return 30   //ç›¸å½“äºŽæŠŠå¹´é¾„æ”¹æˆ 30, å¦‚æžœè¿™ä¸ªå€¼æ˜¯ undefined, åˆ™ä¼šå•ç‹¬è¿‡æ»¤æŽ‰è¿™ä¸ªå€¼ï¼ï¼
		}
	}, 2) //ðŸ”¥ðŸ”¥è‡ªå®šä¹‰ç¼©è¿›è·ç¦»ï¼


	console.log(res6)  //åªè¿”å›ž age: "30"




	console.log("7â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”-");


	const obj7 = {
		name: 'KIM',
		age: '20',
		male: true,
	}


	//ðŸŒŸ æˆ–è€…æ˜¯æ ¹æ®æ¡ä»¶åªæ”¹æŸä¸ªå€¼å¹¶ä¸”ä¸€å¹¶è¿”å›žï¼ï¼
	const res7 = JSON.stringify(obj7, (key, value) => {//ç¬¬ä¸€ä¸ª key æ˜¯ '' ç©ºå­—ç¬¦ä¸²

		if(key === ''){
			return value
		}else if(key === 'age'){
			return 30   //ç›¸å½“äºŽæŠŠå¹´é¾„æ”¹æˆ 30
		}else{
			return value //ðŸ”¥æ”¹äº†å€¼åŽå†è¿”å›žæ‰€æœ‰æ•°æ®
		}
	}, 14)  //ðŸ”¥ðŸ”¥è‡ªå®šä¹‰ç¼©è¿›è·ç¦»ï¼

	console.log(res7)  //åªè¿”å›ž age: "30"



	


//ä¼šä½¿ç”¨ç¬¬äºŒä¸ªå‚æ•°çš„åœºæ™¯
//æ¯”å¦‚æŽ¥æ”¶åˆ°ä¸€ä¸ªæ—¥æœŸ, è¢«è½¬åŒ–æˆå­—ç¬¦ä¸²äº†, ç„¶åŽè¦è½¬åŒ–æˆä¸ºæ—¥æœŸå®žä¾‹å¯¹è±¡ä»¥ä¾¿ç”¨ Date() çš„åŽŸåž‹æ–¹æ³•
const abc = {
	releaseData: new Date(2028, 12, 24),
	zzz: 123,
}
let jsonText = JSON.stringify( abc )

console.log(jsonText);



const efg = JSON.parse(jsonText, (k,v)=>
	k === 'releaseData' ? new Date(v) : v
)

console.log(efg);





