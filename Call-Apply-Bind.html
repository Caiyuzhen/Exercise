<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ä¸‰ä¸ªå‡½æ•°çš„åŸå‹æ–¹æ³•</title>
    <H1>ä¸‰ä¸ªå‡½æ•°çš„åŸå‹æ–¹æ³•</H1>
</head>
<!-- 
    ğŸŒŸ éƒ½æ˜¯ç”¨æ¥æ”¹å˜æˆ–è°ƒç”¨å‡½æ•°ä¸­çš„ this æŒ‡å‘,çœ‹èµ·æ¥ä¸€èˆ¬æ˜¯ç”¨åœ¨æ”¹å˜ä¸€çº§å‡½æ•°çš„æŒ‡å‘ï¼Ÿ

    ä¸€ã€call
        How?
            XXX.call(this,x,y,...)
            this çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ this æŒ‡å‘çš„æ•°æ®

        What åœºæ™¯?
            åœ¨æ„é€ å‡½æ•°ä¸­å¯ä»¥ä½¿ç”¨ call æ¥å®ç° class çš„ç»§æ‰¿ï¼Œå¹¶ä¸”è¿˜èƒ½å¤Ÿç”¨ this æ¥å®šä¹‰è‡ªèº«çš„é¢å¤–å‚æ•°

        ç‰¹ç‚¹
            ç«‹å³æ‰§è¡Œ
    

    äºŒã€apply
        How?
            XXX.apply(this,[x,y,...])
            è·Ÿ call ç±»ä¼¼ï¼Œä½†æœ€å¤šåªèƒ½ä¼ ä¸¤ä¸ªå‚æ•°ï¼Œthis çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ this æŒ‡å‘çš„æ•°æ®,ç¬¬äºŒä¸ªæ˜¯æ‰€æœ‰å®å‚çš„æ•°ç»„

        ç‰¹ç‚¹
            ç«‹å³æ‰§è¡Œ

    ä¸‰ã€bind
        Howï¼Ÿ
            XXX.bind(this,x,y,...)

        What åœºæ™¯?
            ğŸŒŸè¿”å›çš„æ˜¯ä¸€ä¸ªé—­åŒ…çš„å‡½æ•°ï¼Œè¿™æ—¶å€™çš„ this å°±ä¼šæŒ‡å‘å‡½æ•°æœ¬èº«
            å¯ä»¥ä¿å­˜ä¸€ä»½é—­åŒ…çš„å‡½æ•°æ•°æ®

        ç‰¹ç‚¹
            è¿”å›å‡½æ•°ï¼Œåç»­å¯è°ƒç”¨
 -->


<body>
    <script type="text/javascript">


// call ä¾‹å­1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("call ä¾‹å­1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


    function test(a,b) {
        console.log(this,a,b)
    }
    test.call({a:123},6,9)//ç¬¬ä¸€ä¸ªå‚æ•°æ”¹çš„æ˜¯ this çš„æ•°æ® 




// call ä¾‹å­2 ğŸŒŸğŸŒŸâ€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("call ä¾‹å­2â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


    function Product(name, price) { //æ„é€ å‡½æ•°
        this.name = name
        this.price = price
    }

    function Food(x, y) {
        Product.call(this, x, y) //ç›¸å½“äºåˆ©ç”¨ Product() è¿™ä¸ªå‡½æ•°çš„å‚æ•°æ¥å®šä¹‰æœ¬å‡½æ•°çš„å‚æ•°,ğŸŒŸğŸŒŸ ç”¨ call æ–¹æ³•æŠŠåŸæœ¬æŒ‡å‘ Product() æ„é€ å‡½æ•°çš„ this æ”¹æˆæŒ‡å‘ Food()!
        this.category = 'food'   //ç›¸å½“äºåœ¨Product() è¿™ä¸ªå‡½æ•°çš„å‚æ•°çš„åŸºç¡€ä¸Šå†åŠ å¤šä¸€ä¸ªå‚æ•°
    }

    console.log(new Food('cheese', 5).category) //food




    




// apply ä¾‹å­1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("apply ä¾‹å­1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


function test2(a,b) {
        console.log(this,a,b) //åˆå§‹çš„this æŒ‡å‘å…¨å±€ windows å¯¹è±¡
    }
    test2.apply({a:123},[6,9]) //ç¬¬ä¸€ä¸ªå‚æ•°æ”¹çš„æ˜¯ this çš„æŒ‡å‘å¯¹è±¡ï¼Œè®©å®ƒæŒ‡å‘ test2(),ç„¶åå†ç»™å®ƒä¼ å…¥æ•°æ®




// apply ä¾‹å­2â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
//æ‰¾å‡ºæœ€å¤§å€¼æˆ–æœ€å°å€¼
console.log("apply ä¾‹å­2â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


    const num = [1,2,3,4,5,6]
    const max = Math.max.apply(null, num)
    console.log(max) //6

    const min = Math.min.apply(null, num)
    console.log(min) //1
    


// apply ä¾‹å­3â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
//å°†ä¸€ç»„æ•°ç»„æ·»åŠ åˆ°å¦ä¸€ä¸ªæ•°ç»„
console.log("call ä¾‹å­3â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


    const array = ['a', 'b']
    const x = [0,1,2]
    array.push.apply(array, x) //[a, b,0,1,2]
    console.info(array) //







// bind ä¾‹å­1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("bind ä¾‹å­1â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")


    function test007(a,b){
        console.log(this,a,b) 
    }
    const tik = test007.bind({gg:"ä½ å¥½"},2,3) //ğŸŒŸğŸŒŸğŸŒŸæ³¨æ„ï¼å°†ä¸€ä¸ªå‚æ•°èµ‹å€¼ç»™å‡½æ•°åï¼Œåˆ™éœ€è¦ç”¨å‡½æ•°çš„å†™æ³•æ¥è°ƒç”¨æ­¤å‚æ•°ï¼ğŸŒŸğŸŒŸğŸŒŸ
    tik() //tik ç›¸å½“äºæ˜¯è¢«èµ‹å€¼ä¸ºå‡½æ•°ğŸŒŸğŸŒŸ
    tik() //æ•°æ®è·Ÿä¸Šé¢ä¸€æ ·ï¼Œç›¸å½“äºè¢«ç»‘å®šäº†



// bind ä¾‹å­2â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("bind ä¾‹å­2â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")

    this.name2 = "å°æ" // åœ¨æµè§ˆå™¨ä¸­ï¼Œthis æŒ‡å‘å…¨å±€çš„ "window" å¯¹è±¡

    const person = {
        name2: "å°æ˜",
        age: function(name2){
            return this.name2; //ğŸŒŸğŸŒŸğŸŒŸ,å› ä¸ºä¸‹é¢çš„ console åœ¨å…¨å±€å†…å»è°ƒç”¨å‡º age() è¿™ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ä¸‹é¢çš„ this æŒ‡å‘çš„æ˜¯ windows !è°è°ƒç”¨æˆ‘å°±æŒ‡å‘è°ï¼Œç®­å¤´å‡½æ•°çš„è¯åˆ™ç•¥è¿‡ä¸€å±‚å¾€ä¸Šæ‰¾
        },
    }

    const who = person.age
    console.log(who()) //ğŸŒŸğŸŒŸğŸŒŸ,age çš„ this æŒ‡å‘çš„æ˜¯å…¨å±€ windows å¯¹è±¡çš„ name2 = â€œå°æâ€ï¼Œè¦æƒ³æŒ‡å‘ person ï¼Œ å¾—ç”¨ä¸‹é¢çš„æ–¹æ³•

    const result = who.bind(person) //ç›¸å½“äº person.age.bind(person)ğŸŒŸğŸŒŸğŸŒŸ,ç›¸å½“äºè®© this æŒ‡å‘ person
    console.log(result())//è¾“å‡º"å°æ˜"




// bind ä¾‹å­3â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("bind ä¾‹å­3â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")

    this.x = 9;    // åœ¨æµè§ˆå™¨ä¸­ï¼Œthis æŒ‡å‘å…¨å±€çš„ "window" å¯¹è±¡
    var module = {
        x: 81,
        getX: function() { return this.x; }
    };

    module.getX(); // 81ï¼Œåœ¨å…¨å±€å†…è°ƒç”¨ get X() çš„ thisï¼Œ æ‰€ä»¥æŒ‡å‘å…¨å±€çš„ "window" å¯¹è±¡

    var retrieveX = module.getX;
    retrieveX();
    // è¿”å› 9 - å› ä¸ºå‡½æ•°æ˜¯åœ¨å…¨å±€ä½œç”¨åŸŸä¸­è°ƒç”¨çš„

    // åˆ›å»ºä¸€ä¸ªæ–°å‡½æ•°ï¼ŒæŠŠ 'this' ç»‘å®šåˆ° module å¯¹è±¡
    // æ–°æ‰‹å¯èƒ½ä¼šå°†å…¨å±€å˜é‡ x ä¸ module çš„å±æ€§ x æ··æ·†
    var boundGetX = retrieveX.bind(module);
    boundGetX(); // 81



//ğŸŒŸğŸŒŸåˆ©ç”¨ Object åŸå‹æ–¹æ³•åˆ¤æ–­æ˜¯å¦åŒ…å«æ•°ç»„ã€å¯¹è±¡
console.log("ğŸŒŸğŸŒŸåˆ©ç”¨ Object åŸå‹æ–¹æ³•åˆ¤æ–­æ˜¯å¦åŒ…å«æ•°ç»„ã€å¯¹è±¡â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")

    console.log(Object.prototype.toString.call([]), {}.toString());
    console.log(Object.prototype.toString.call([]))
    console.log( {}.toString());
    //ğŸ‘† [object Array]  [object Object]

    //æ–¹æ³•ç±»ä¼¼ instanceof Object ã€instanceof Array

    //ğŸŒŸåˆ¤è¯»è¿™ä¸ªæ•°æ®æ˜¯ä¸æ˜¯æ•°ç»„
    const KK = [1,2,3]
    console.log(Object.prototype.toString.call(KK) === "[object Array]") //true

    //ğŸŒŸåˆ¤æ–­è¿™ä¸ªæ•°æ®æ˜¯ä¸æ˜¯å¯¹è±¡
    const LL = {
        name:"å°æ",
        age:18,
    }
    console.log(LL.toString()=== "[object Object]")






    </script>


</body>
</html>