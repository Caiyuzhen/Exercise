<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> DOM éƒ¨åˆ†ç»¼åˆç»ƒä¹  </title>
    <H1>D</H1>
</head>
<body>
    <span id="span">å¤§æ±Ÿä¸œå»æµªæ·˜å°½</span>
    <div>
        <span>
            <div>
                <p id="p1" name='a' class="abc">ä¸¤æ®µæ–‡å­—</p>
                <p id="p2">3</p>
                <p id="pz" name='a' class="abc">ä¸¤æ®µæ–‡å­—</p>
            </div>
        </span>
    </div>
    
</body>

<script type="text/javascript">

//ç»ƒä¹ ä¸€ï¼šç”¨ js æ–¹å¼åˆ›å»ºä¸€ä¸ª DOM çš„ html ç»“æ„, å¹¶æ˜¾ç¤ºåœ¨ä¸»æ–‡æ¡£å†…
    const html = document.createElement('html')
    html.innerHTML = `
    <div>
        <ul class="list">
            <li>KR01</li>
            <li>KR02</li>
            <li>KR03</li>
        </ul>
    </div>
    `    
    //æŠŠ context ç»“æ„æ·»åŠ åˆ° body ä¸Š
    document.body.appendChild(html)

    

//ç»ƒä¹ äºŒï¼šåˆ›å»ºä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œèƒ½å¤Ÿä¼ å…¥ä¸€ä¸ª[å…ƒç´ ]ä»¥åŠ[æ–‡æœ¬]ï¼Œåœ¨å‡½æ•°æ‰§è¡Œå 3 ç§’åå°†æ¶ˆé™¤æ‰æ–‡æ¡£å†…å®¹çš„[è¿™ä¸ªå…ƒç´ ]å†…åŒ…å«çš„[æ–‡æœ¬]ã€‚
//æ€è·¯ï¼Œå…ˆæŠŠå…ƒç´ å†…çš„æ–‡æœ¬éå†å‡ºæ¥ï¼Œç„¶åå†è®©å®ƒä»¬æ¶ˆå¤±

    function disappear(target,text){
        //å…ˆåˆ›å»ºä¸€ä¸ªæ•°ç»„,è·å–[æœ‰æ–‡æœ¬èŠ‚ç‚¹çš„å…ƒç´ ]çš„æ–‡æœ¬å†…å®¹
        const eleArr = []

        function getElement(x,target,text){
            //ğŸ”¥ğŸ”¥ğŸ”¥åˆ›å»ºä¸€ä¸ªæ•°ç»„,ç„¶åæŠŠç›®æ ‡å…ƒç´ çš„å­èŠ‚ç‚¹è½¬åŒ–ä¸ºæ•°ç»„,æ‰èƒ½ç”¨æ•°ç»„çš„æ–¹æ³•!ğŸ”¥ğŸ”¥ğŸ”¥
            const arr = [...target.childNodes]

            arr.forEach(item =>{
                //ğŸ”¥ğŸ”¥åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡æœ¬èŠ‚ç‚¹çš„æ–¹æ³•ï¼
                if(item.nodeValue === text){

                    //ğŸ”¥ğŸ”¥ğŸ”¥æŠŠæœ‰æ–‡æœ¬èŠ‚ç‚¹çš„æ–‡æœ¬æ·»åŠ åˆ°æ•°ç»„é‡Œé¢,æ³¨æ„,å› ä¸ºä¸Šé¢å·²ç»æ˜¯ childNodes äº†,æ‰€ä»¥è¿™é‡Œè¦ push çš„æ˜¯ parentNode
                        x.push(item.parentNode)

                //çœ‹æ˜¯ä¸æ˜¯æœ€åä¸€å±‚å…ƒç´ ,æ–‡æœ¬èŠ‚ç‚¹æ²¡æœ‰å­å…ƒç´ ï¼
                }else if(item.childNodes.length > 0 ){
                    
                    //é€’å½’,ç»§ç»­ä¸Šé¢çš„æ“ä½œ,ğŸ”¥ğŸ”¥å¦‚æœæœ‰å­å…ƒç´ ï¼Œå°±ç»§ç»­é€’å½’éå†,æ³¨æ„ï¼Œè¿™é‡Œçš„ target å˜æˆ item äº†
                    getElement(x,item,text)
                }
            })
        }
        //å¼€å§‹æ‰§è¡Œä¸Šé¢çš„å‡½æ•°ï¼
        getElement(eleArr,document,text)
        // console.log(eleArr)

        //ğŸ”¥éå†ä¸Šè¾¹æ‹¿å‡ºæ¥çš„å…ƒç´ æ•°ç»„
        eleArr.forEach(element =>{
            element.hidden = true;
        })

    }

    disappear(document,'ä¸¤æ®µæ–‡å­—')

 //ç»ƒä¹ ä¸‰: å®šä¹‰ä¸€ä¸ªå‡½æ•°,å¯ä»¥æ”¹å˜ä¼ å…¥å…ƒç´ çš„å­—å·å¤§å°,åˆå§‹ä¸º 12px,æ¯éš” 1s å¢åŠ  2px, è¶…è¿‡ 30px å˜å› 12px,ä¸æ–­çš„å¾ªç¯
    function changeSize(target){
        //å…ˆæŠŠä¼ å…¥çš„å­—å·è®¾ç½®ä¸º 12px (åˆå§‹çŠ¶æ€)
        target.style.fontSize = '12px'

        //å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨
        let timer = setInterval(()=>{

        //ğŸŒŸæ–¹æ³•ä¸€(ä¸ç”¨å˜é‡):
            // //æ¯éš” 2 ç§’å¢åŠ  2px, ğŸŒŸğŸŒŸéœ€è¦å…ˆæŠŠ 12px è½¬åŒ–ä¸ºæ•°æ®ç±»å‹çš„æ ¼å¼!
            // target.style.fontSize = parseInt(target.style.fontSize) + 2 + 'px'

            // //åˆ¤æ–­æ˜¯å¦è¶…è¿‡ 30px
            // if(target.style.fontSize > '30px'){
            //     //å¦‚æœè¶…è¿‡ 30px å°±å˜å› 12px
            //     target.style.fontSize = '12px'
            // }    
        

        //ğŸŒŸæ–¹æ³•äºŒ(ç”¨å˜é‡):
            const nowTxt = parseInt(target.style.fontSize)

            //å¤§äº 30 åˆ™æš‚åœ
            if(nowTxt >= 30){
                target.style.fontSize = '12px'
            }
            //ä¸å¤§äº 30 ç»§ç»­åŠ 
            else{
                target.style.fontSize = nowTxt + 2 + 'px'
            }
    },1000)}


    const txt01 = document.querySelector('span')
    changeSize(txt01)
    // window.getComputedStyle() //è·å–å…ƒç´ æœ€ç»ˆçš„å±•ç¤ºæ€


    
//ç»ƒä¹ å››: å®šä¹‰ä¸€ä¸ªå‡½æ•°, å¯ä»¥è®©é¡µé¢ä¸­çš„[å…ƒç´ ]è·å–åˆ°[å…ƒç´ ]ä¸­çš„æ–‡å­—(æ•°å­—), æ ¹æ®è¿™ä¸ªæ•°å­—çš„ç§’æ•°æ¥æ”¹å˜[ä¼ å…¥çš„é¢œè‰²]

    function changeColor(target,color){
        //è·å–å…ƒç´ çš„å­èŠ‚ç‚¹(ğŸŒŸæ–‡å­—æ˜¯å…ƒç´ çš„å­èŠ‚ç‚¹!)
        const time = target.childNodes[0]
        
        //æŠŠæ–‡å­—è½¬åŒ–ä¸ºæ•°å­—
        const num = parseInt(time.nodeValue)

        //å®šä¹‰ä¸€ä¸ªå®šæ—¶å™¨
        let timer = setTimeout(()=>{
            //è®¾ç½®ä¸ºä¼ å…¥çš„é¢œè‰²
            target.style.color = color
        },num * 1000) //ğŸ‘ˆå› ä¸ºè¿™é‡Œæ˜¯æ¯«ç§’,æ‰€ä»¥è¦ä¹˜ä»¥ä¸€åƒ!ğŸŒŸğŸŒŸğŸŒŸ
    }

    changeColor(document.getElementById('p2'),'red')



//ç»ƒä¹ äº”:
//å®šä¹‰ä¸€ä¸ªå‡½æ•°,å¯ä»¥ä¼ å…¥ä¸¤ä¸ªå‚æ•°,ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥ä¸€ä¸ª[å…ƒç´ èŠ‚ç‚¹], ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥éœ€è¦è·å–çš„å…ƒç´ èŠ‚ç‚¹ä¸Šçš„[å±æ€§èŠ‚ç‚¹åç§°]
//å¦‚æœä¸ä¼ å±æ€§èŠ‚ç‚¹çš„åç§°å°±æŠŠæ‰€æœ‰å±æ€§èŠ‚ç‚¹éƒ½è·å–äº†, å¦‚æœä¼ äº†çš„è¯å°±è·å–åŒ¹é…åˆ°è¿™ä¸ªåå­—(æ¯”å¦‚ classã€id...)çš„[å±æ€§èŠ‚ç‚¹]
//æœ€åæŠŠæ‰€æœ‰è·å–åˆ°çš„å±æ€§èŠ‚ç‚¹æ”¾åˆ°[ä¸€ä¸ªæ•°ç»„]ä¸­å¹¶è¿”å›

//ğŸŒŸğŸŒŸğŸŒŸæ€è·¯:ç”¨å±æ€§èŠ‚ç‚¹åç§°å»åŒ¹é…å±æ€§èŠ‚ç‚¹å€¼, å¦‚æœåŒ¹é…ä¸Šå°±è¿”å›åˆ°ä¸€ä¸ªæ•°ç»„ä¸­

    const ppp = document.getElementById('pz')


    function getAttr(target,attr){
        //éœ€è¦è¿”å›çš„å±æ€§èŠ‚ç‚¹æ•°ç»„, åŠ¨æ€çš„å˜é‡,ç”¨ Let
        let result = []

        //è·å–æ‰€æœ‰ä¼ å…¥å…ƒç´ çš„å±æ€§èŠ‚ç‚¹, ç”¨ [...XXX.attributes] æ¥æŠŠç±»æ•°ç»„è½¬åŒ–ä¸ºæ•°ç»„
        const all = [...target.attributes]

        //åˆ¤æ–­æ˜¯å¦ä¼ å…¥äº†å±æ€§èŠ‚ç‚¹
        if(attr){ //ä¼ äº†ç¬¬äºŒä¸ªå‚æ•°, åˆ™æ˜¯ true, å› ä¸ºä¼šéšå¼è½¬æ¢
            attr.forEach(item=>{  //ç¬¬ä¸€ééå†çš„æ˜¯[ä¼ å…¥çš„åç§°]ğŸŒŸ
                all.forEach(item02=>{  //ç¬¬ä¸€ééå†çš„æ˜¯ä¼ å…¥çš„[å±æ€§èŠ‚ç‚¹å]ğŸŒŸ
                   if(item02.nodeName === item){ //[åç§°] = [å±æ€§èŠ‚ç‚¹å] çš„æ—¶å€™
                          result.push(item02)
                   }
                })
            })
        } else {//æ²¡ä¼ ç¬¬äºŒä¸ªå‚æ•°,åˆ™ä¼šéšå¼è½¬åŒ–ä¸º false
            result = [...target.attributes]
        }
        return result
    }
    console.log(getAttr(ppp,['id']))





</script>
</html>