<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> DOM éƒ¨åˆ†ç»¼åˆç»ƒä¹  </title>
    <H1>DOM</H1>
</head>
<body>
    <span>ä¸€æ®µæ–‡å­—ä¸€æ®µæ–‡å­—ä¸€æ®µæ–‡å­—</span>
    <div>
        <span>
            <div>
                <p>ä¸¤æ®µæ–‡å­—</p>
            </div>
        </span>
    </div>
    
</body>

<script type="text/javascript">

//ç»ƒä¹ ä¸€ï¼šç”¨ js æ–¹å¼åˆ›å»ºä¸€ä¸ª DOM çš„ html ç»“æ„, å¹¶æ˜¾ç¤ºåœ¨ä¸»æ–‡æ¡£å†…
    const html = document.createElement('html')
    html.innerHTML = `
    <div>
        <ul class="list">
            <li>KR01</li>
            <li>KR02</li>
            <li>KR03</li>
        </ul>
    </div>
    `    
    //æŠŠ context ç»“æ„æ·»åŠ åˆ° body ä¸Š
    document.body.appendChild(html)

    

//ç»ƒä¹ äºŒï¼šåˆ›å»ºä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œå…ƒç´ ä»¥åŠæ–‡æœ¬ï¼Œåœ¨å‡½æ•°æ‰§è¡Œå 3 ç§’åå°†æ¶ˆé™¤æ‰è¿™ä¸ªå…ƒç´ å†…åŒ…å«çš„æ–‡æœ¬ã€‚
//æ€è·¯ï¼Œå…ˆæŠŠå…ƒç´ å†…çš„æ–‡æœ¬éå†å‡ºæ¥ï¼Œç„¶åå†è®©å®ƒä»¬æ¶ˆå¤±





    function disappear(target,text){
        const eleArr = []

        function getElement(collection,target,text){
        //ğŸ”¥ğŸ”¥ğŸ”¥å…ˆæŠŠç›®æ ‡å…ƒç´ çš„å­èŠ‚ç‚¹è½¬åŒ–ä¸ºæ•°ç»„,æ‰éš¾ç”¨æ•°ç»„çš„æ–¹æ³•!ğŸ”¥ğŸ”¥ğŸ”¥

            const arr = [...target.childNodes]

            arr.forEach(item=>{
                // ğŸ”¥ğŸ”¥åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡æœ¬èŠ‚ç‚¹çš„æ–¹æ³•ï¼
                if(item.nodeValue === text){

                    //æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œå°±æŠŠå¸¦æœ‰æ–‡æœ¬çš„å…ƒç´  push åˆ°æ•°ç»„é‡Œ
                    collection.push(item.parentNode)

                //çœ‹æ˜¯ä¸æ˜¯æœ€åä¸€å±‚å…ƒç´ ,æ–‡æœ¬èŠ‚ç‚¹æ²¡æœ‰å­å…ƒç´ ï¼
                }else if(item.childNodes.length > 0){
                    //ğŸ”¥ğŸ”¥å¦‚æœæœ‰å­å…ƒç´ ï¼Œå°±ç»§ç»­é€’å½’éå†,æ³¨æ„ï¼Œè¿™é‡Œçš„ target å˜æˆ item äº†
                    getElement(collection,item,text)
                }
            })
        }

        //å¼€å§‹æ‰§è¡Œä¸Šé¢çš„å‡½æ•°ï¼
        getElement(eleArr,document,text)

        // console.log(eleArr)

        eleArr.forEach(element => {
            element.hidden = true
        })
    }

    disappear(document,'ä¸¤æ®µæ–‡å­—')

</script>
</html>