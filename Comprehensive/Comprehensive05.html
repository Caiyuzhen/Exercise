<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS æ·±å…¥éƒ¨åˆ†ç»ƒä¹ </title>
    <H1>JS æ·±å…¥éƒ¨åˆ†ç»ƒä¹ </H1>
</head>
<body>
    
    <script type="text/javascript">

//ç»ƒä¹ 01â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 01â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
    //ç”»å‡ºä»¥ä¸‹å‡½æ•°çš„è¿è¡Œè¿‡ç¨‹
    let a = 123

    function abc(){
        let a= 100
        return function(x){ //ğŸŒŸğŸŒŸç›¸å½“äºå®šä¹‰äº†ä¸€ä¸ªåŒ¿åå‡½æ•°ï¼
            a += x // a = a + x 
            console.log(a)
        }
    } 

    const c = abc() //c = return function(x){}çš„å‡½æ•°!!
    c(200) //ç›¸å½“äº c å»æ‰§è¡Œ function(x)! // a = 100+200=300  
    c(600) //è¿™é‡Œæœ‰ä¸ªå‘ï¼ğŸŒŸğŸŒŸå› ä¸ºä¸Šä¸€æ­¥ a = 300 äº†ï¼Œç„¶åç»§ç»­ 300+600=900!!
    
    const d = abc()//ğŸŒŸğŸŒŸğŸŒŸğŸŒŸå¤§å‘ï¼ï¼è¿™ä¸ªä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ abc()ï¼ï¼ä¸Šé¢çš„å‡½æ•°æ‰§è¡Œå®Œåå°±è¢«å›æ”¶äº†ï¼
    d(600)// a=100+600=700ğŸŒŸğŸŒŸğŸŒŸ
    console.log('ç»“æŸäº†')


//ç»ƒä¹ 02â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 02â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
    //åˆ¤è¯»ä»¥ä¸‹å‡½æ•°ä¾æ¬¡è¾“å‡ºçš„æ˜¯ä»€ä¹ˆ
    function fn(){
        let a = 0
        // a = 0 ,å¦‚æœä¸ç”¨ let & const æ¥å®šä¹‰çš„è¯ï¼Œ a ä¼šè¢«æå‡åˆ°å…¨å±€ï¼è¿™æ ·çš„è¯ä¸‹é¢å°±ä¸ä¼šäº§ç”Ÿé—­åŒ…å¯¹è±¡ï¼å› æ­¤æ¯æ¬¡ aéƒ½ä¼š+1
        return function(b){  
            return b + a++; //ğŸŒŸğŸŒŸa++ä¸ºæ•´ä¸ªä»£ç æ‰§è¡Œå®Œåå†å»++ //ğŸŒŸğŸŒŸfunction(){}è¿™ä¸ªå‡½æ•°æœ‰ä¸ªé—­åŒ…å¯¹è±¡ a=0 ï¼ï¼ï¼Œå› ä¸ºç”¨åˆ°äº† a æ¥ç®—è¡¨è¾¾å¼
            //é—­åŒ…å¯¹è±¡ï¼ša=0+1=1
        }
    }
    var f = fn() //f = function(b){}
    console.log(f(5))//5+0=5
    console.log(fn()(5))//5   //ğŸŒŸğŸŒŸç›¸å½“äºé‡æ–°æ‰§è¡Œ f(5)ï¼Œè·Ÿä¹‹å‰ä¸æ˜¯ä¸€ä¸ªf(5)ï¼ï¼ //ğŸŒŸğŸŒŸğŸŒŸğŸŒŸå¤§å‘ï¼ï¼è¿™ä¸ª fn() å°†äº§ç”Ÿä¸€ä¸ªæ–°çš„é—­åŒ…å¯¹è±¡ï¼ï¼
    console.log(f(5))//6   //ğŸŒŸğŸŒŸğŸŒŸğŸŒŸå¤§å‘ï¼ï¼è¿™ä¸ªæ—¶å€™ return å‡½æ•°å†…çš„ a++ äº†ï¼Œæ‰€ä»¥å˜æˆ 1
    console.log(a)//Undefined


//ç»ƒä¹ 03â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 03â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
    //åˆ¤è¯»ä»¥ä¸‹å‡½æ•°ä¾æ¬¡è¾“å‡ºçš„æ˜¯ä»€ä¹ˆ
    function test2(){
        setTimeout(function(){
            console.log(1)
        },0)
    }

    function log(){
        console.log(3)
        setTimeout(function(){
            console.log(5)
        },0)
    }
    setTimeout(function() {
        console.log(2)
    },0)

    log()
    test2()
    console.log(4)
    
    //3
    //4
    //2 //ğŸŒŸé—ç•™å°ç–‘é—®ï¼Œé—®ä»€ä¹ˆå¼‚æ­¥çš„ 2 æ¯” 5 æ—©æ‰§è¡Œï¼Ÿ
    //5
    //1


//ç»ƒä¹ 04â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
setTimeout(function() {
    console.log("ç»ƒä¹ 04â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
    },0)

    //åˆ¤è¯»ä»¥ä¸‹å‡½æ•°ä¾æ¬¡è¾“å‡ºçš„æ˜¯ä»€ä¹ˆ
    var test002 = (function(i){ //i=2
        return function(){ //i=2
            console.log( i *= 2 ) //i=2X2=4
           }
        })(2) //ğŸŒŸğŸŒŸğŸŒŸè¿™æ˜¯ç«‹å³æ‰§è¡Œå‡½æ•°çš„å†™æ³•ï¼ï¼ç«‹åˆ»ä¼ å…¥ 2


    setTimeout(function() {
        test002(5) //ğŸŒŸğŸŒŸğŸŒŸå› ä¸º return çš„ function()æ²¡æœ‰å‚æ•°ï¼ï¼æ‰€ä»¥è¿™ä¸ª 5 æ²¡ä¼ è¿›å­å‡½æ•°ï¼ï¼
    },0)
    
    //4
    


//ç»ƒä¹ 05â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
setTimeout(function() {
    console.log("ç»ƒä¹ 05â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
    },0)

    setTimeout(function() {
    //å°†ä¸‹é¢çš„å‡½æ•°è¿›è¡Œæ·±æ‹·è´

    //æ€è·¯ï¼šç”¨åˆ°é€’å½’,åªè¦æ˜¯å¯¹è±¡å°±é‡å¤è°ƒç”¨å»éœ€è¦åˆ¤æ–­ä¸€ä¸ªå¯¹è±¡å†…çš„ key æ˜¯ä¸æ˜¯ä¸ªå¯¹è±¡ï¼›
    const obj = {
        a:123,
        b:{
            x:456,
            y:{
              t:'æ˜¯æˆ‘'
            }
        },
        c:true,
    }

    function Check(x){
        const Result = {} //ç¬¬ä¸€æ­¥å°±æ˜¯å»ºç«‹è¦æ‹·è´åˆ°çš„å¯¹è±¡
            
            Object.keys(x).forEach((yy,index)=>{ //ç¬¬ä¸‰æ­¥ï¼Œç”¨ Object åŸå‹æ–¹æ³•æ¥æ‰¾å‡ºå¯¹è±¡çš„ key, è¿™é‡Œçš„ yy ä¸º key ,é…åˆ Obj.key èƒ½å¤Ÿè·å¾—å€¼ value
                if(typeof x[yy] === "Object"){ //ç¬¬å››æ­¥ï¼Œåˆ¤æ–­ key æ˜¯ä¸æ˜¯ "Object"
                    Result[yy] = Check(x[yy])   //é€’å½’æ ¸å¿ƒï¼Œè®©å®ƒé‡èµ°ä¸€éåˆ¤æ–­  //è¡¥å……ä¸€ç‚¹ï¼šæ¯æ¬¡é€’å½’éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„æ´»åŠ¨å¯¹è±¡è·Ÿæ‰§è¡Œç¯å¢ƒå¯¹è±¡
                }   
                else{
                    Result[yy] = x[yy]
                }
            })
        return Result //ç¬¬äºŒæ­¥å°±æ˜¯è¦è¿”å›è¿™ä¸ªå¯¹è±¡
    }

    console.log(Check(obj)!==obj)
    



//ç»ƒä¹ 06â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 06â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")

    //å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œä¸ç®¡ä¼ å…¥å¤šå°‘æ•°æ®(æ•°å­—ï¼‰éƒ½èƒ½åŠ æ€»èµ·æ¥å¹¶è¿›è¡Œè¿”å›
    //åˆ†åˆ«ç”¨å‰©ä½™å‚æ•°æ”¶é›†ç¬¦è·Ÿ arguments å®ç°

    //arguments çš„å®ç°æ–¹æ³•
    function AddNum(x){
        let arr = Array.from(arguments) //å…ˆæŠŠä¼ å…¥çš„æ•°æ®ç”Ÿæˆä¸€ä¸ªæ•°ç»„
        let result = arr.reduce((a,b) => a+b, 0) //é»˜è®¤å€¼ä¸º 0
        return result
    }

    console.log(AddNum(1,2,3,4,5))

   //å‰©ä½™å‚æ•°æ”¶é›†ç¬¦
   function AddNum2(...al2) { //al2 ä¸ºä¸€ä¸ªæ–°çš„æ•°ç»„
       const result = al2.reduce((a,b) =>a+b,0)
       return result;
   }
   console.log(AddNum2(1,2,3,4,5))




//ç»ƒä¹ 07â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 07â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")

   //å®ç°ä¸€ä¸ªå‡½æ•°ï¼Œå½“å‚æ•°å°äºç­‰äº 3 ä¸ªï¼Œç›¸ä¹˜ï¼Œå¤§äº 3 ä¸ªï¼Œç›¸åŠ ï¼Œå¹¶è¿”å›ç»“æœ
   //å‰©ä½™å‚æ•°æ”¶é›†ç¬¦çš„æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥ç”¨ arguments çš„æ–¹æ³•
   function Decision(...arr6){
       let result;
       if(arr6.length <= 3){
           result = arr6.reduce((a,b) => a * b, 1)
           return result;
       }else{
           result = arr6.reduce((a,b) => a + b, 0)
           return result;
       }
       return result;       
   }
   console.log(Decision(1,2,3))
   console.log(Decision(1,2,3,4))




//ç»ƒä¹ 08â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 08â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
    
    //bind apply call ä¸‰ä¸ªæ–¹æ³•çš„å¼‚åŒï¼Ÿ

    //bind è¿”å›å‡½æ•°  ä¸ç«‹å³æ‰§è¡Œ, å…¶ä»–ä¸¤ä¸ªæ˜¯ç«‹å³æ‰§è¡Œ
    //bind call æ˜¯ä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ä¾æ¬¡ä¼ å…¥ï¼Œä¸é™æ•°é‡
    //apple ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ•°ç»„ï¼Œæ‰€æœ‰å‚æ•°æ”¾å…¥è¿™ä¸ªè¾“å…¥ï¼Œæ²¡æœ‰ç¬¬ä¸‰ä¸ªåŠåç»­å‚æ•°


//ç»ƒä¹ 09â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 09â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")

    //ä¸‰ç§æŠŠå‡½æ•° arguments è½¬ä¸ºæ•°ç»„çš„æ–¹æ³•
        //é™æ€æ–¹æ³•ï¼š Array.from.arguments
        //æ‹“å±•è¿ç®—ç¬¦æ–¹æ³•ï¼š [...arguments]
        //åŸå‹å¯¹è±¡æ–¹æ³•ï¼š[].slice.call(arguments) ->ç­‰ä»·äº Array.prototype.slice.call(arguments)

//ç»ƒä¹ 10â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
console.log("ç»ƒä¹ 10â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”")
   
   //å®šä¹‰ä¸€ä¸ªå‡½æ•°ï¼Œå‡½æ•°ä¸­å®šä¹‰ä¸€ä¸ªå˜é‡æŒ‡å‘ä¸€ä¸ªæ•°ç»„
   //è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ª listen æ–¹æ³• åªèƒ½ä¼ å…¥å‡½æ•°ï¼Œå¯ä»¥æŠŠä¼ å…¥çš„å‡½æ•°å­˜å…¥è¿™ä¸ªçˆ¶å‡½æ•°ä¸­å®šä¹‰çš„æ•°ç»„ä¸­
   //åŒæ—¶è¿˜æœ‰å¦ä¸€ä¸ªæ–¹æ³•å« dispatch ï¼Œæ‰§è¡Œè¿™ä¸ªæ–¹æ³•åå°†ä¼šæŠŠçˆ¶å‡½æ•°ä¸­å­˜å…¥çš„å„ä¸ªå‡½æ•°ä¾æ¬¡æ‰§è¡Œ

   function controller(){
        const Xcache = [] //ğŸŒŸğŸŒŸğŸŒŸğŸŒŸğŸŒŸä¼ å…¥çš„å‡½æ•°éƒ½ä¼šç¼“å­˜åˆ°è¿™é‡Œï¼ï¼ï¼å¾ˆå¸¸ç”¨çš„æ€è·¯ï¼ï¼æ¯”å¦‚ç¼“å­˜æ•°æ®ï¼
        return {
            listen(fn){  //å¯¹è±¡é‡Œè¾¹çš„ function() ä¸ç”¨å†™ function å¼€å¤´ï¼ï¼
                Xcache.push(fn) //ğŸŒŸä¼šç”Ÿæˆé—­åŒ…
            },
            dispatch(){ //ğŸŒŸä¼šç”Ÿæˆé—­åŒ…
               Xcache.forEach(x=>x()) //ğŸŒŸğŸŒŸğŸŒŸæŠŠæ‰€æœ‰å‡½æ•°æ‰§è¡Œä¸€éï¼ï¼ï¼
            }
        }
   }
   const AA = controller()
   AA.listen(()=>{console.log('666')}) //ç”¨ AA æ¥è°ƒç”¨ controller å†…çš„ listen å‡½æ•°ï¼ç„¶åä¼ å…¥ ()=>{} åŒ¿åå‡½æ•°ï¼

   AA.dispatch()






    },0)
    </script>

</body>
</html>