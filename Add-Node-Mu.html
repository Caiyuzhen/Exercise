<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM èŠ‚ç‚¹çš„åˆ›å»ºä¸åˆ é™¤</title>
    <!-- 
        [åŸåˆ™ï¼šåŒä¸€ä¸ªèŠ‚ç‚¹åªèƒ½æ·»åŠ åˆ° DOM æ ‘ä¸Šçš„ä¸€å¤„]

        ğŸŒŸåˆ›å»ºå…ƒç´  & å±æ€§
            document.createElement()

            document.createTextNode()

            document.createAttribute()

                Element.setAttributeNode() //éœ€è¦ä¼ å…¥å±æ€§èŠ‚ç‚¹ã€æ¯”å¦‚ hrefã€idã€‘ï¼ŒæŠŠä¼ å…¥çš„èŠ‚ç‚¹è®¾ç½®ä¸ºè¯¥å…ƒç´ çš„å±æ€§,ä¼ å…¥åé€šè¿‡ nodeValue æˆ–è€… setAttribute æ¥è®¾ç½®å±æ€§å€¼
                Element.getAttributeNode()  //ä¼ å…¥å±æ€§åï¼Œè·å–è¯¥ã€å±æ€§åã€‘çš„èŠ‚ç‚¹
                    ğŸŒŸ æ³¨æ„ï¼šä¹‹å‰çš„ Element.getAttribute()æ˜¯è·å–å±æ€§å€¼ï¼æ³¨æ„çœ‹è¿™é‡Œåˆä¸ª Node ï¼


        ğŸŒŸæ·»åŠ å…ƒç´  & å±æ€§
            ç¬¬ä¸€æ­¥ï¼š
                å°†æŸä¸ªå…ƒç´ æ·»åŠ ä¸ºæŸä¸ªå…ƒç´ çš„å­èŠ‚ç‚¹ (æ¯”å¦‚æŠŠæ–‡å­—æ·»åŠ ç»™å…ƒç´ , æ·»åŠ åˆ°å…ƒç´ çš„æœ€åä¸€å±‚)
                    ğŸŒŸæ–¹æ³•ä¸€ï¼š
                        Element.appendChild("å•¦å•¦å•¦")

                    ğŸŒŸæ–¹æ³•äºŒï¼š
                        Element.innerHtml("å•¦å•¦å•¦")

                    ğŸŒŸæ–¹æ³•ä¸‰ï¼ˆæ–‡æœ¬ç”¨ï¼‰ï¼š
                        Element.innerText = "å•¦å•¦å•¦"
                    
                    ğŸŒŸæ–¹æ³•å››ï¼š
                        Node.insertAfter(å­å…ƒç´ )


                å°†æŸä¸ªå…ƒç´ æ·»åŠ ä¸ºæŸä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹
                    è¯¥å…ƒç´ çš„çˆ¶å…ƒç´ .parentNode.insertBefore(è¯¥å…ƒç´ çš„çˆ¶å…ƒç´ ,XXX) //ğŸŒŸæ³¨æ„ï¼šçˆ¶å…ƒç´ ï¼
                    æ¯”å¦‚ï¼š
                        well.parentNode.insertBefore(well,AAA)  è¿™æ ·æ˜¯æ’åœ¨ well å‰é¢
            

            ç¬¬äºŒæ­¥ï¼š
                æŠŠæ·»åŠ åçš„å…ƒç´ æ˜¾ç¤ºåœ¨ DOM æ ‘ä¸Š
                    document.body.appendChild(XXX)


            æ·»åŠ å…ƒç´  & å±æ€§
                è®¾ç½®å±æ€§å€¼çš„æ–¹æ³•æœ‰ä¸¤ç§:
                    nodeValue 

                    setAttribute 
                        ä¾‹å¦‚ï¼šname='title'ğŸ‘‡
                            span.setAttribute('name','title')


            ğŸŒŸğŸŒŸå¤æ‚æ¡ˆä¾‹ï¼šğŸ‘‡ å¦‚ä½•æ·»åŠ ä¸€ç»„ç»“æ„ï¼ˆåŒ…å«æ–‡æœ¬èŠ‚ç‚¹ï¼‰
                    <div>
                        <span>ABCD</span>
                            <div>
                                <span>888</span>
                            </div>
                    </div>

            ğŸŒŸç¬¬ä¸€æ­¥ï¼š     å…ˆåˆ›å»ºæœ€å¤–å±‚çš„å…ƒç´ 
            ğŸŒŸç¬¬ Xï½Y æ­¥ï¼šã€ä¾æ¬¡ã€‘åˆ›å»ºæ·»åŠ å†…éƒ¨å…ƒç´  å¹¶ appendChild åˆ°ã€æœ€å¤–å±‚ã€‘çš„å…ƒç´ ä¸Š
            ğŸŒŸæœ€åä¸€æ­¥ï¼š   æŠŠæœ€å¤–å±‚çš„å…ƒç´ æŒ‚åœ¨ DOM æ ‘ä¸Š
                


        ğŸŒŸåˆ é™¤ DOM èŠ‚ç‚¹
            åˆ é™¤å…ƒç´ çš„å­èŠ‚ç‚¹
                Node.removeChild()
                    å®ä¾‹: well.removeChild(XXX)

            æ›¿æ¢èŠ‚ç‚¹
                Node.replaceChild()
                    å®ä¾‹: well.replaceChild(XXX)

        ğŸŒŸä¸¤ä¸ªä¸å¸¸ç”¨çš„æ–¹æ³•
            åˆ‡å‰²æ–‡æœ¬ï¼Œæ¯”å¦‚æŠŠ footer ä»ç¬¬ä¸‰ä¸ªä½ç½®åˆ‡å‰²ä¸º foo  ter
              Text.splitText(3)
              
            è§„èŒƒåŒ–èŠ‚ç‚¹     
              Node.normallise()
     -->


</head>


<body>
    <div class="a">a
        <div class="b">b</div>
    </div>

    <br/>
    <br/>
    <br/>
    
    <!-- ğŸŒŸç»ƒä¹ ç”¨ -->
    <div style="font-size: 40px;">çˆ¶èŠ‚ç‚¹
        <div id="div1" style="font-size: 32px; margin-left: 24px;">1</div>
        <div id="div2" style="font-size: 32px; margin-left: 24px;">2</div>
        <div id="div3" style="font-size: 32px; margin-left: 24px;">3
            <div id="div3-1" style="font-size: 20px; margin-left: 48px;">3-1</div>
            <div id="div3-2" style="font-size: 20px; margin-left: 48px;">3-2</div>
        </div>
        <div id="div4" style="font-size: 32px;margin-left: 24px; ">4</div>
        
    </div>

    
</body>

    <script type="text/javascript">

//åˆ›å»ºä¸€ä¸ªå…ƒç´ 
        const well = document.createElement("ul");


//åˆ›å»ºä¸€ä¸ªæ–‡æœ¬
        const done = document.createTextNode("æµ·ç»µå®å®")

        const doneE = document.createTextNode("æ´¾å¤§æ˜Ÿ")

//æŸ¥çœ‹ä¸‹å®ƒæ˜¯ä»€ä¹ˆç±»å‹
console.log(Object.prototype.toString.call(well)) //[object HTMLUListElement]




//æŠŠæ–‡æœ¬æ·»åŠ ç»™å…ƒç´ 
        well.appendChild(done)
        well.appendChild(doneE)


        console.log(well);

        //åŠ ä¸ªæ ·å¼  
        well.style.fontSize = '20px'



//æŠŠæ·»åŠ åçš„å…ƒç´ æ˜¾ç¤ºåœ¨ DOM æ ‘ä¸Š
        document.body.appendChild(well)


//æŸ¥æ‰¾ä¸€ä¸ªéœ€è¦è¢«ç§»åŠ¨çš„å…ƒç´ 
const AAA = document.querySelector('.a')


//å°†æŸä¸ªå…ƒç´ æ·»åŠ ä¸ºæŸä¸ªå…ƒç´ çš„çˆ¶èŠ‚ç‚¹
well.parentNode.insertBefore(well,AAA)




console.log(" ç»ƒä¹  â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€” ")
//ç»ƒä¹ 1 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
//åˆ›å»ºä¸€ä¸ªæ–¹æ³•ï¼ŒæŸä¸ªå…ƒç´ å¦‚æœè°ƒç”¨çš„è¯ï¼Œå°±å¯ä»¥æŠŠä¼ å…¥çš„ Node å…ƒç´ æ’å…¥åˆ°è¿™ä¸ªæŸå…ƒç´ çš„åé¢ insertAfter æ–¹æ³•


//ğŸŒŸğŸŒŸğŸŒŸğŸŒŸå› ä¸ºè¦é€šè¿‡çˆ¶å…ƒç´ è°ƒç”¨ï¼Œæ‰€ä»¥è¦åˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯æŸä¸ªå…ƒç´ çš„å­èŠ‚ç‚¹çš„æœ€åä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯çš„è¯å¯ä»¥ç”¨å®ƒçš„çˆ¶èŠ‚ç‚¹ï¼Œä¸æ˜¯çš„è¯å°±ç”¨å®ƒçš„å…„å¼ŸèŠ‚ç‚¹ï¼Œæ’å…¥åˆ°å…„å¼ŸèŠ‚ç‚¹çš„å‰é¢
Node.prototype.insertAfter = function (element){
    if(this.nextElementSibling === null){               //ğŸŒŸğŸŒŸè®¿é—®å…„å¼ŸèŠ‚ç‚¹æ˜¯å¦å­˜åœ¨
        this.parentNode.appendChild(element)    //ğŸŒŸğŸŒŸä¸å­˜åœ¨(æœ€åä¸€ä¸ª)åˆ™æ˜¯ nullï¼Œä¸å­˜åœ¨å°±ã€ğŸŒŸæŠŠè¿™ä¸ªè°ƒç”¨çš„å¯¹è±¡å½“ä½œçˆ¶å…ƒç´ ã€‘ï¼ŒæŠŠã€å‚æ•°å…ƒç´ ã€‘æ”¾åšå®ƒå­é›†
    }
    else {
        this.parentNode.insertBefore(element,this.nextElementSibling)//å¦‚æœå­˜åœ¨å…„å¼ŸèŠ‚ç‚¹,é‚£å°±ã€ğŸŒŸå‚æ•°å…ƒç´ å½“ä½œçˆ¶å…ƒç´ ã€‘ï¼ŒæŠŠå®ƒæ”¾åˆ°å…„å¼ŸèŠ‚ç‚¹çš„å‰é¢
    }
    //å°ç™½å†™æ³•
    //this.insertBefore(element,this.node)

}

const div999 = document.createElement('div')
div999.innerText = 'æ’å…¥çš„èŠ‚ç‚¹'

document.getElementById('div1').insertAfter(div999)




//ç»ƒä¹ 2 â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
//åˆ›å»ºä¸€ä¸ªå°å‹çš„ DOM tree å¹¶æ˜¾ç¤ºåœ¨é¡µé¢ä¸Š
//<div>
//    <span name = 'title'>æˆ‘æ˜¯ä¸€ä¸ªæ ‡é¢˜</span>
//        <div>
//            <p class = 'p1'>
//                è¿™æ˜¯ç¬¬ä¸€æ®µè¯
//            </p>
//            <p class = 'p2'>
//                è¿™æ˜¯ç¬¬äºŒæ®µè¯
//            </p>
//        </div>
//</div>
//ğŸŒŸæ–¹æ³•ä¸€ ä¸€ä¸ªä¸ªåˆ›å»ºä¸€ä¸ªä¸ªæ’å…¥
const rootDiv = document.createElement('div')

const span = document.createElement('span')
const spanText = document.createTextNode("æˆ‘æ˜¯ä¸€ä¸ªæ ‡é¢˜") //ğŸŒŸåˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹
span.appendChild(spanText)
span.setAttribute('name','title')

const div = document.createElement('div')

const p1 = document.createElement('p')
const p1Text = document.createTextNode("è¿™æ˜¯ç¬¬ä¸€æ®µè¯")    //ğŸŒŸåˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹
p1.appendChild(p1Text)
p1.setAttribute('class','p1')

const p2 = document.createElement('p')
const p2Text = document.createTextNode("è¿™æ˜¯ç¬¬ä¸€æ®µè¯")    //ğŸŒŸåˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹
p2.appendChild(p2Text)
p2.setAttribute('class','p2')

div.appendChild(p1)
div.appendChild(p2)

rootDiv.appendChild(span)
rootDiv.appendChild(div)

document.body.appendChild(rootDiv)



//ğŸŒŸæ–¹æ³•äºŒ  innerHTML
const rootDiv2 = document.createElement('div')
rootDiv2.innerHTML =`
   <span name = 'title'>æˆ‘æ˜¯ä¸€ä¸ªæ ‡é¢˜</span>
       <div>
            <p class = 'p1'>
                è¿™æ˜¯ç¬¬ä¸€æ®µè¯
            </p>
            <p class = 'p2'>
                è¿™æ˜¯ç¬¬äºŒæ®µè¯
            </p>
        </div>
        `
document.body.appendChild(rootDiv2)


    </script>

</html>